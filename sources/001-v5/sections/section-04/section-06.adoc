[[toc4_06]]
=== 交通（広場）モデルの応用スキーマ

広場は、都市計画法第11条第1項に示される交通施設のうち、「駅前広場」、「自動車ターミナル」及び「交通広場」について、都市計画で定められた施設（都市計画施設）を指す。 +
広場の「駅前広場」及び「交通広場」は、道路の区域と重複する。この重複する区域に含まれる車道や歩道等のオブジェクトは、交通（道路）モデルの一部であり、かつ、交通（広場）モデルの一部にもなる。車道や歩道等のオブジェクトが二つ重複して存在するのではなく、一つの同じオブジェクトが、交通（道路）モデルと交通（広場）モデルの両方から参照される。

[[toc4_06_01]]
==== 交通（広場）モデルのLOD

[[toc4_06_01_01]]
===== 交通（広場）モデル（LOD0）

====== 交通（広場）モデル（LOD0）の概要

交通（広場）モデル（LOD0）では、広場の形状を線により表現する。 +
広場の形状の線は、ネットワーク又は道路縁及び車道の界線のいずれかとする。 +
標準製品仕様書は、原則として交通（広場）モデル（LOD0）はネットワークを採用する。ただし、数値地形図との互換性を保つために、道路縁及び車道の界線を選択できる。 +
道路縁及び車道の界線を採用する場合、公共測量標準図式に従う。 +
なお、交通（広場）モデル（LOD0）のうち、駅前広場及び交通広場は、交通（道路）モデル（LOD0）で表現される地物の集まりとして構成される。 +
交通（広場）モデル（LOD0）の取得イメージを<<tab-4-41>>に示す。

[[tab-4-41]]
[cols="2a,9a,9a"]
.交通（広場）モデル（LOD0）の取得イメージ
|===
h| 2+^h| LOD0
h| 取得例
|
.駅前広場
image::images/165.webp.png[width="250"]

|
.駅前広場
image::images/166.webp.png[width="250"]

h| 説明
| 広場内において、車道の両側（歩道、安全地帯及び分離帯）から等距離の点をつなぐ線分を、広場の中心線とする。 +
車道が交差又は分岐する場所で中心線を区切る。 +
広場内の中心線は連続でなければならず、また、その端点は広場が接続する道路の中心線までとする。
| 駅前広場は道路縁、歩道、分離帯等の地物の集まりで構成されるため、交通（道路）モデル（LOD0）によって表現される。

h| 2+^h| LOD0
h| 取得例
|
.自動車ターミナル
image::images/167.webp.png[width="250"]

|
.自動車ターミナル
image::images/168.webp.png[width="250"]

h| 説明
| 広場内において、車道の両側（庭園路、歩道、安全地帯及び分離帯）から等距離の点をつなぐ線分を、広場の中心線とする。 +
車道が交差又は分岐する場所で中心線を区切る。 +
広場内の中心線は連続でなければならず、また、その端点は広場に接続する道路の中心線までとする。
| 庭園路、歩道、安全地帯、分離帯の境界を取得する。

h| 2+^h| LOD0
h| 取得例
|
.交通広場
image::images/169.webp.png[width="250"]

|
.交通広場
image::images/170.webp.png[width="250"]

h| 説明
| 車道の両側（歩道、安全地帯及び分離帯）から等距離の点をつなぐ線分を、広場の中心線とする。 +
車道が交差又は分岐する場所で中心線を区切る。 +
広場内の中心線は連続でなければならず、また、その端点は広場に接続する道路の中心線上まで伸ばす。
| 交通広場は道路縁、歩道、分離帯等の地物の集まりで構成されるため、交通（道路）（LOD0）モデルによって表現される。

|===

====== 交通（広場）モデル（LOD0）の定義

交通（広場）モデル（LOD0）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

.2+| LOD0
.2+| ■
.2+| Square
| Geometric Complex
|
* 駅前広場、自動車ターミナル、交通広場
* ネットワークにより交通（広場）モデル（LOD0）を表現する場合に必須とする。
|
* 車道の両側（歩道、安全地帯及び分離帯）から等距離の点をつなぐ線分を取得する。
* 高さは0とする。
|
* ネットワークによる表現は、tran:lod0Networkを使用して記述する。

<| MultiCurve
<|
* 自動車ターミナル
* 公共測量標準図式により交通（広場）モデル（LOD0）を表現する場合に必須とする。
|
* 徒歩道縁、歩道、安全地帯及び分離帯を取得する。
* 高さは0とする。
|
* 公共測量標準図式による表現は、uro:DmGeometricAttributeのuro:lod0Geometryを使用する。
* 駅前広場及び交通広場の場合は、交通（道路）モデル（LOD0）により表現する。

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_06_01_02]]
===== 交通（広場）モデル（LOD1）

====== 交通（広場）モデル（LOD1）の概要

交通（広場）モデル（LOD1）では、広場の区域を面により表現する。交通（広場）モデル（LOD1）の取得イメージを<<tab-4-42>>に示す。

[[tab-4-42]]
[cols="1a,9a"]
.交通（広場）モデル（LOD1）の取得イメージ
|===
h| LOD ^h| LOD1
h| 取得例
|
image::images/171.webp.png[width="300"]

h| 説明
| 交通（広場）モデル（LOD1）の形状を示す面は、都市計画で定められた区域とする。 +
高さは0とする。

|===

====== 交通（広場）モデル（LOD1）の定義

交通（広場）モデル（LOD1）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD1
| ●
| Square
| MultiSurface
|
* 駅前広場、自動車ターミナル、交通広場
|
* 区域の境界線をつないだ面を作成する。
* 高さは0とする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_06_01_03]]
===== 交通（広場）モデル（LOD2）

====== 交通（広場）モデル（LOD2）の概要

交通（広場）モデル（LOD2）では、広場の区域を車道部、車道交差部、歩道部及び島に区分する。 +
交通（広場）モデル（LOD2）の取得イメージを<<tab-4-43>>に示す。

[[tab-4-43]]
[cols="1a,9a"]
.交通（広場）モデル（LOD2）の取得イメージ
|===
| LOD | LOD2

h| 取得例
|
image::images/172.webp.png[width="300"]

h| 説明
|
都市計画において定められた広場の区域（交通（広場）モデル（LOD1））を以下に区分する。

* 車道部
* 車道交差部
* 歩道部
* 島

高さは0とする。 +
このとき、交通広場は道路でもある。交通広場に含まれる「車道部」「車道交差部」「歩道部」及び「島」のオブジェクトは、交通（広場）モデルの部分、かつ、交通（道路）モデルの部分となる。

|===

車道とは、主として自動車が利用する道路の部分で、車線、すりつけ区間、分離帯が切断された車道の部分、側帯、路肩、停車帯、待避所、乗合自動車停車所、非常駐車帯、副道を含む。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>


車道交差部とは、十字路、丁字路、その他2つ以上の車道が交わる部分をいう。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>


歩道部とは、専ら歩行者と自転車の通行の用に供するため、工作物により車道部と区画して設置される道路の部分で、自転車道、自転車歩行者道、歩道を含む。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>


島とは、車両の走行を制御し、安全な交通を確保するために設置される分離帯及び交通島の部分をいう。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>


====== 交通（広場）モデル（LOD2）の定義

交通（広場）モデル（LOD2）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD2 | ● | Square | MultiSurface
|
* 駅前広場、自動車ターミナル、交通広場
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
|
.4+| LOD2
.4+| ●
.4+| TrafficArea
.4+| MultiSurface
|
* 車道部
|
* 車道部の境界をつないだ面を作成し、車道交差部を除く面を取得する。
* 高さは0とする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 隅切りに囲まれた車道部を取得する。
* 高さは0とする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 交差する道路の道路縁の接点をつなぐ境界線に囲まれた車道部を取得する。
* 高さは0とする。
|

|
* 歩道部
<|
* 歩道部の境界をつないだ面を取得する。
* 高さは0とする。
|

| LOD2
| ●
| Auxiliary Traffic Area
| MultiSurface
|
* 島
|
* 島の外周を取得する。
* 高さは0とする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_06_01_04]]
===== 交通（広場）モデル（LOD3）

====== 交通（広場）モデル（LOD3）の概要

交通（広場）モデル（LOD3）では、広場の形状を面により表現し、面を車道部、車道交差部、歩道部及び分離帯等に区分する。交通（道路）モデル（LOD3）は、「広場内の区分」と「高さの取得方法」の組み合わせが異なるLOD3.0、LOD3.1、LOD3.2、LOD3.3及び LOD3.4に区分する。標準製品仕様は、原則としてLOD3.0とする。ただし、ユースケースの必要に応じて、LOD3.1、LOD3.2、LOD3.3又はLOD3.4を採用できる。

[cols="3a,6a,4a,^1a,^1a,^1a,^1a,^1a"]
.LOD3.0、LOD3.1、LOD3.2、LOD3.3及び LOD3.4の「広場内の区分」
|===
2+| 交通（広場）モデル（LOD3）に含むべき地物 | 対応するCityGMLの地物型 | LOD3.0 | LOD3.1 | LOD3.2 | LOD3.3 | LOD3.4

2+| 広場（駅前広場、自動車ターミナル、交通広場） | Square ^| ● |  ● |  ● |  ● |  ●
.5+| 車道部 | | TrafficArea | ● | ● | ● |  ● |  ●
| 車道交差部 | TrafficArea ^| ● | ● | ● |  ● |  ●
| 車線 | TrafficArea | | ● |  ● |  ● |  ●
| すりつけ区間、踏切道、軌道敷、待避所、副道、自動車駐車場（走路）、自転車駐車場（走路）、 | TrafficArea | | | | |  〇
| 非常駐車帯、中央帯、側帯、路肩、停車帯、乗合自動車停車所、自動車駐車場（駐車区画）、自転車駐車場（駐車区画） | AuxiliaryTrafficArea | | | | |  〇
.3+| 歩道部 | | TrafficArea | ● |  ● |  ● |  ● |  ●
| 歩道上の植栽 | AuxiliaryTrafficArea | | |  ● |  ● |  ●
| 歩道、自転車歩行者道、自転車道 | TrafficArea | | | | |  〇
.2+| 島 | | AuxiliaryTrafficArea |  ● |  ● |  ● |  ● |  ●
| 交通島、分離帯、植樹帯、路面電車停車所 | AuxiliaryTrafficArea | | | | |  〇

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[cols="4a,^a,^a,^a,^a,^a"]
.LOD3.0、LOD3.1、LOD3.2、LOD3.3及び LOD3.4の「高さの取得方法」
|===
| 取得方法 | LOD3.0 h| LOD3.1 h| LOD3.2 h| LOD3.3 h| LOD3.4

| 広場の車道の横断方向の高さは一律とし、車道の高さとする。 |  ● |  ● | | |
| 広場の車道の横断方向に15㎝以上の高さの差が存在した場合に、車道部、歩道部、島それぞれの高さを取得する。
|
| |  ● | |
| 広場の車道の横断方向に2㎝以上の高さの差が存在した場合に、車道部、歩道部、島それぞれの高さを取得する。
|
| | |  ● |  ● footnote:[LOD3.4における取得の下限値は、ユースケースの必要に応じて定めることができる。]

|===


交通（広場）モデル（LOD3）の取得イメージを<<tab-4-46>> 及び<<tab-4-47>> に示す。

[[tab-4-46]]
[cols="1a,1a,1a,1a"]
.交通（広場）モデル（LOD3）の取得イメージ（広場内の区分）
|===
| LOD3.0 | LOD3.1 | LOD3.2及びLOD3.3 | LOD3.4

| 車道部、車道交差部、島及び歩道部を区分する。
| LOD3.0の区分を細分する。 +
車道部のうち、車線を区分する。
| LOD3.1の区分を細分する。 +
歩道部のうち、植栽を区分する。
| LOD3.2の区分を細分する。細分はユースケースに応じて決定する。

^.^|
image::images/173.webp.png[]
^.^|
image::images/174.webp.png[]
^.^|
image::images/175.webp.png[]
^.^|
image::images/176.webp.png[]

|===

NOTE: 青色着色している広場内の区分は、当該LODにおいて新たに区別ができるようになる区分である。

[[tab-4-47]]
[cols="1a,1a,1a"]
.交通（広場）モデル（LOD3）の取得イメージ（高さの取得方法）
|===
| LOD3.0及びLOD3.1 | LOD3.2 | LOD3.3及びLOD3.4

|
徒歩道内（車道、歩道、分離帯）の高さは、横断方向に同一（全て車道の高さ）となる。 +
立体交差が表現できる。

image::images/177.webp.png[]

|
徒歩道の横断方向に存在する15㎝以上の高さの差を取得する。

. 15㎝以上の段は、段の形状を取得する。
+
image::images/178.webp.png[]

. 15㎝以上のスロープは、スロープの形状を取得する。
+
image::images/180.webp.png[]

. 高さの差が15㎝未満の段が複数あり、合計15㎝以上の高さの差がある場合は、スロープとして取得する。
+
image::images/182.webp.png[]

歩道と車道との間や車道と島との間に存在する縁石による段を表現できる。

|
徒歩道の横断方向に存在する2㎝以上の高さの差を取得する。

. 2㎝以上の段は、段の形状を取得する。
+
image::images/179.webp.png[]

. 2㎝以上のスロープは、スロープの形状を取得する。
+
image::images/181.webp.png[]

. 高さの差が2㎝未満の段が複数あり、合計2㎝以上の高さの差がある場合は、スロープとして取得する。
+
image::images/183.webp.png[]

歩道に設けられた切り下げ部に存在する段が表現できる。

image::images/184.webp.png[]

|===

====== 交通（広場）モデル（LOD3.0）の定義

交通（広場）モデル（LOD3.0）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.0
| ●
| Square
| MultiSurface
|
* 駅前広場
* 自動車ターミナル
* 交通広場
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路内の高さは、横断方向に同一（全て車道の路面高さ）となる。

.4+| LOD3.0
.4+| ●
.4+| TrafficArea
.4+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 隅切りで囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 交差する道路の道路縁の接点をつなぐ境界線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道部の境界をつないだ面を取得する。
* 高さは車道部の路面高さとする。
|

| LOD3.0
| ●
| Auxiliary TrafficArea
| MultiSurface
|
* 島
|
* 島の外周を取得する。
* 高さは車道の路面高さとする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（広場）モデル（LOD3.1）の定義

交通（広場）モデル（LOD3.1）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.1
| ●
| Square
| MultiSurface
|
* 駅前広場
* 自動車ターミナル
* 交通広場
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路内の高さは、横断方向に同一（全て車道の路面高さ）となる。

.5+| LOD3.1
.5+| ●
.5+| TrafficArea
.5+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線をつないだ面を作成する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 交差する道路の道路縁の接点をつなぐ境界線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道部の境界に囲まれた面を取得する。
* 高さは車道の路面高さとする。
|

| LOD3.1
| ●
| Auxiliary TrafficArea
| MultiSurface
|
* 島
|
* 島の外周を取得する。
* 高さは車道の路面高さとする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（広場）モデル（LOD3.2）の定義

交通（広場）モデル（LOD3.2）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.2
| ●
| Square
| MultiSurface
|
* 駅前広場
* 自動車ターミナル
* 交通広場
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路の横断方向に存在する15㎝以上の高さの差を取得する。

.6+| LOD3.2
.6+| ●
.6+| TrafficArea
.6+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線をつないだ面を作成する。
* 高さは路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 交差する道路の道路縁の接点をつなぐ境界線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道部の境界をつないだ面を取得する。
* 高さは歩道の路面高さとする。
* 横断歩道や車両出入口部に設置された歩道の切り下げ部では、歩道の高さは、車道の路面高さと同一の高さとする。
|

|
* 歩道部と車道部との間に存在する15㎝以上の高さの差
<|
* 15㎝以上の段の場合は、段の上端と下端を結ぶ面を作成し、その形状を取得する。
* 15㎝以上のスロープは、スロープの下端と上端を結ぶ面を取得する。
* 15㎝未満の段が複数存在する場合は、最下段の下端と最上段の上端を結ぶ面を作成する。
| 高さの差を表現する面は、歩道部の一部として取得する。

.2+| LOD3.2
.2+| ●
.2+| Auxiliary TrafficArea
.2+| MultiSurface
|
* 島
|
* 島の上端の外周を面として取得する。
* 島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、島の上端の高さを与える。
|

|
* 植栽
<|
* 植栽の上端の外周を面として取得する。
* 植栽の下端の外周と島の上端の外周に囲まれた面を取得する。
* 植栽の下端の外周の各頂点には、歩道の路面の高さを与え、上端の外周の各頂点には、植栽の上端の高さを与える。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（広場）モデル（LOD3.3）の定義

交通（広場）モデル（LOD3.3）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.3
| ●
| Square
| MultiSurface
|
* 駅前広場
* 自動車ターミナル
* 交通広場
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路の横断方向に存在する2㎝以上の高さの差を取得する。

.5+| LOD3.3
.5+| ●
.5+| TrafficArea
.5+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線をつないだ面を作成する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部
<|
* 隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道の境界をつないだ面を取得する。
* 高さは歩道の路面高さとする。
|

|
* 歩道部と車道部との間に存在する2㎝以上の高さの差
<|
* 2㎝以上の段の場合は、段の上端と下端を結ぶ面を作成し、その形状を取得する。
* 2㎝以上のスロープは、スロープの下端と上端を結ぶ面を取得する。
* 2㎝未満の段が複数存在する場合は、最下段の下端と最上段の上端を結ぶ面を作成する。
| 高さの差を表現する面は、歩道部の一部として取得する。

.2+| LOD3.3
.2+| ●
.2+| Auxiliary TrafficArea
.2+| MultiSurface
|
* 島
|
* 島の上端の外周を面として取得する。
* 島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、島の上端の高さを与える。
|

|
* 植栽
<|
* 植栽の上端の外周を面として取得する。
* 植栽の下端の外周と島の上端の外周に囲まれた面を取得する。
* 植栽の下端の外周の各頂点には、歩道の路面の高さを与え、上端の外周の各頂点には、植栽の上端の高さを与える。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（広場）モデル（LOD3.4）の定義

交通（広場）モデル（LOD3.4）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.4
| ●
| Square
| MultiSurface
|
* 駅前広場
* 自動車ターミナル
* 交通広場
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路の横断方向に存在する2㎝以上の高さの差を取得する。

.5+| LOD3.4
.5+| ●
.5+| TrafficArea
.5+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線又は道路標示をつないだ面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部
<|
* 隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道の境界をつないだ面を取得する。
* 高さは歩道の路面高さとする。
|

|
* 歩道部と車道部との間に存在する2㎝以上の高さの差
<|
* 2㎝以上の段の場合は、段の上端と下端を結ぶ面を作成し、その形状を取得する。
* 2㎝以上のスロープは、スロープの下端と上端を結ぶ面を取得する。
* 2㎝未満の段が複数存在する場合は、最下段の下端と最上段の上端を結ぶ面を作成する。
| 高さの差を表現する面は、歩道部の一部として取得する。

| LOD3.4
| 〇
| TrafficArea
| MultiSurface
|
* すりつけ区間、踏切道、軌道敷、待避所、副道、自動車駐車場（走路）、自転車駐車場（走路）
|
* 区画線又は道路標示をつないだ面を取得する。
* 高さは路面高さとする。
| ユースケースの必要に応じて、車道部又は車線を細分する。

| LOD3.4
| 〇
| TrafficArea
| MultiSurface
|
* 自転車歩行車道、自転車道、歩道
|
* 縁石の境界線と歩道端をつないだ面を取得する。
* 高さは自転車歩行車道又は自転車の路面高さとする。
| ユースケースの必要に応じて、歩道部を細分する。

.2+| LOD3.4
.2+| ●
.2+| Auxiliary TrafficArea
.2+| MultiSurface
|
* 島
|
* 島の上端の外周を面として取得する。
* 島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、島の上端の高さを与える。
|

|
* 植栽
<|
* 植栽の上端の外周を面として取得する。
* 植栽の下端の外周と島の上端の外周に囲まれた面を取得する。
* 植栽の下端の外周の各頂点には、歩道の路面の高さを与え、上端の外周の各頂点には、植栽の上端の高さを与える。
|

| LOD3.4
| 〇
| Auxiliary TrafficArea
| MultiSurface
|
* 非常駐車帯、中央帯、側帯、路肩、停車帯、乗合自動車停車所、自動車駐車場（駐車区画）、自転車駐車場（駐車区画）
|
* 車道端、区画線又は道路標示をつないだ面を取得する。
* 高さは路面高さとする。
| ユースケースの必要に応じて、車道部を細分する。

| LOD3.4
| 〇
| Auxiliary TrafficArea
| MultiSurface
|
* 分離帯、交通島
|
* 分離帯又は交通島の上端の外周を面として取得する。
* 分離帯又は交通島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 分離帯又は交通島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、分離帯又は交通島の上端の高さを与える。
| ユースケースの必要に応じて、島を細分する。

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_06_01_05]]
===== 各LODにおいて使用可能な地物型と空間属性

交通（広場）モデルの各LODにおいて使用可能な地物型と空間属性を<<tab-4-48>>に示す。

[[tab-4-48]]
[cols="5a,5a,^a,^a,^a,^a,6a"]
.交通（広場）モデルに使用する地物型と空間属性
|===
| 地物型 | 空間属性 | LOD0 | LOD1 | LOD2 | LOD3 | 適用

.6+| tran:Square | |  ● |  ● |  ● |  ● |
| tran:lod0Network ^| ■ |  |  |  .2+<| LOD0はネットワークを原則とするが、数値地形図との互換性を保つために、道路縁及び車道の界線を選択できる。
| uro:lod0Geometry ^| ■ |  |  |
| tran:lod1MultiSurface |  |  ● |  |  |
| tran:lod2MultiSurface |  |  |  ● |  |
| tran:lod3MultiSurface |  |  |  |  ● |
.3+| tran:TrafficArea | |  |  |  ● |  ● |
| tran:lod2MultiSurface |  |  |  ● |  |
| tran:lod3MultiSurface |  |  |  |  ● |
.3+| tran:AuxiliaryTrafficArea | |  |  |  ● |  ● |
| tran:lod2MultiSurface |  |  |  ● |  |
| tran:lod3MultiSurface |  |  |  |  ● |

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_06_02]]
==== 交通（広場）モデルの応用スキーマクラス図

[[toc4_06_02_01]]
===== Transportation（CityGML）

<<toc4_03_02_01,tran:Roadの応用スキーマクラス図>>参照

[[toc4_06_02_02]]
===== Urban Object（i-UR）

image::images/EAID_22C24D4C_4894_480a_B113_0CB034CB59E9.png[]

// image::images/185.svg[]


[[toc4_06_03]]
==== 交通（広場）モデルの応用スキーマ文書

[[toc4_06_03_01]]
===== Transportation（CityGML）

====== tran:Square

lutaml_klass_table::../../sources/xmi/plateau_all_packages_export.xmi[name="Square",template="../../sources/liquid_templates/_klass_table.liquid"]


[[toc4_06_03_02]]
===== Urban Object（i-UR）

====== uro:KeyValuePairAttribute

lutaml_klass_table::../../sources/xmi/plateau_all_packages_export.xmi[name="KeyValuePairAttribute",template="../../sources/liquid_templates/_klass_table.liquid"]

====== uro:DataQualityAttribute

lutaml_klass_table::../../sources/xmi/plateau_all_packages_export.xmi[name="DataQualityAttribute",template="../../sources/liquid_templates/_klass_table.liquid"]

====== uro:PublicSurveyDataQualityAttribute

lutaml_klass_table::../../sources/xmi/plateau_all_packages_export.xmi[name="PublicSurveyDataQualityAttribute",template="../../sources/liquid_templates/_klass_table.liquid"]

====== uro:SquareUrbanPlanAttribute

lutaml_klass_table::../../sources/xmi/plateau_all_packages_export.xmi[name="SquareUrbanPlanAttribute",template="../../sources/liquid_templates/_klass_table.liquid"]

====== uro:StationSquareAttribute

lutaml_klass_table::../../sources/xmi/plateau_all_packages_export.xmi[name="StationSquareAttribute",template="../../sources/liquid_templates/_klass_table.liquid"]

====== uro:TerminalAttribute

lutaml_klass_table::../../sources/xmi/plateau_all_packages_export.xmi[name="TerminalAttribute",template="../../sources/liquid_templates/_klass_table.liquid"]


[[toc4_06_03_03]]
===== 施設管理のための拡張属性

====== uro:FacilityIdAttribute

<<toc4_26_03,施設管理属性の応用スキーマ文書>>　参照。

====== uro:FacilityTypeAttribute

<<toc4_26_03,施設管理属性の応用スキーマ文書>>　参照。

====== uro:FacilityAttribute

<<toc4_26_03,施設管理属性の応用スキーマ文書>>　参照。

[[toc4_06_03_04]]
===== 数値地形図のための拡張属性

====== uro:DmAttribute

<<toc4_25_03,公共測量標準図式の応用スキーマ文書>>　参照。


[[toc4_06_04]]
==== 交通（広場）モデルで使用するコードリストと列挙型

[[toc4_06_04_01]]
===== Transportaion（CityGML）

====== Square_function.xml

lutaml_gml_dictionary::iur/codelists/3.2/Square_function.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<mlit_city_plan_investigation>>

[[toc4_06_04_02]]
===== Urban Object（i-UR）

====== TrafficArea_function.xml

交通（道路）のコードリストを参照。

====== AuxiliaryTrafficArea_function.xml

交通（道路）のコードリストを参照。

====== Common_status.xml

lutaml_gml_dictionary::iur/codelists/3.2/Common_status.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<mlit_foundation_reqs>>

====== StationSquareAttribute_railwayType.xml

lutaml_gml_dictionary::iur/codelists/3.2/StationSquareAttribute_railwayType.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<mlit_city_plan_investigation>>

====== TerminalAttribute_userType.xml

lutaml_gml_dictionary::iur/codelists/3.2/TerminalAttribute_userType.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<mlit_city_plan_investigation>>

====== TerminalAttribute_terminalType.xml

lutaml_gml_dictionary::iur/codelists/3.2/TerminalAttribute_terminalType.xml[template="gml_dict_template.liquid",context=dict]

====== DataQualityAttribute_geometrySrcDesc.xml

交通（道路）のコードリストを参照。

====== DataQualityAttribute_thematicSrcDesc.xml

交通（道路）のコードリストを参照。

====== DataQualityAttribute_appearanceSrcDesc.xml

交通（道路）のコードリストを参照。

====== PublicSurveyDataQualityAttribute_srcScale.xml

交通（道路）のコードリストを参照。

====== PublicSurveyDataQualityAttribute_geometrySrcDesc.xml

交通（道路）のコードリストを参照。

====== TrafficArea_surfaceMaterial.xml及びAuxiliaryTrafficArea_surfaceMaterial.xml

交通（道路）のコードリストを参照。


[[toc4_03]]
=== 交通（道路）モデルの応用スキーマ

道路とは、一般交通の用に供する道であり、道路法第3条に示された道路の種類及び建築基準法第42条の定義を含む。

[[toc4_03_01]]
==== 交通（道路）モデルのLOD

[[toc4_03_01_01]]
===== 交通（道路）モデル（LOD0）

====== 交通（道路）モデル（LOD0）の概要

交通（道路）モデル（LOD0）では、道路の形状を線により表現する。 +
道路の形状の線は、ネットワーク（道路中心線）又は道路縁のいずれかとする。 +
標準製品仕様書は、原則としてネットワーク（道路中心線）を採用する。ただし、数値地形図との互換性を保つために、道路縁を選択できる。 +
道路縁を採用する場合、「<<gsi_ops,annex=7,作業規程の準則 付録７ 公共測量標準図式>>」（以下、「公共測量標準図式」という）に従う。 +
道路縁とは、「道路法第2条第1項に規定された道路にあっては道路構造令に定める歩道、自転車道、車道、中央帯、路肩、又は植樹帯等で構成される道路の部分で最も外側の線（植樹帯が最も外側にある場合には、当該植樹帯を除いた道路の最も外側の線をいう。）、道路法第2条第1項に規定する以外の道路にあってはこれに準ずる線」をいう。「<<gsi_ops,公共測量標準図式>>」 +
交通（道路）モデル（LOD0）の取得イメージを<<tab-4-16>>に示す。

[[tab-4-16]]
[cols="2a,9a,9a"]
.交通（道路）モデル（LOD0）の取得イメージ
|===
h| 2+^h| LOD0
h| 取得例
|
image::images/068.webp.png[]
|
image::images/069.webp.png[]

h| 説明 | 左右両側の道路縁から等距離となる点をつないだ線分を取得する。
|
道路縁を取得する。

|===

====== 交通（道路）モデル（LOD0）の定義

交通（道路）モデル（LOD0）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

.2+| LOD0
.2+| ●
.2+| Road
| Geometric Complex
|
* 地図情報レベル2500では幅員1m以上
* 地図情報レベル1000では幅員0.5m以上
* 地図情報レベル500では全ての道路
* 道路ネットワークにより交通（道路）モデル（LOD0）を表現する場合に必須とする。
|
* 道路縁を取得する。
* 左右の道路縁から等距離となる点をつないだ線分（道路中心線）を取得する。
* 高さは0とする。
|
* 道路ネットワークによる表現は、tran:lod0Networkを使用して記述する。
* GeometricComplexの下位型であるCompositeCurveを使用する。

| MultiCurve
|
* 地図情報レベル2500では幅員1m以上
* 地図情報レベルでは幅員0.5m以上
* 地図情報レベル500では全ての道路
* 道路縁により交通（道路）モデル（LOD0）を表現する場合に必須とする。
|
* 道路縁を取得する。
* 高さは0とする。
|
* 道路縁による表現は、uro:DmGeometricAttributeのuro:lod0Geometryを使用する。

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_03_01_02]]
===== 交通（道路）モデル（LOD1）

====== 交通（道路）モデル（LOD1）の概要

交通（道路）モデル（LOD1）では、道路の形状を面により表現する。交通（道路）モデル（LOD1）の取得イメージを<<tab-4-17>>に示す。

[[tab-4-17]]
[cols="1a,9a"]
.交通（道路）モデル（LOD1）の取得イメージ
|===
h| ^h| LOD1
h| 取得例
|
image::images/070.webp.png[]

h| 説明 |
道路縁により囲まれた範囲を面として取得し、以下の場所で区切る。

* 交差部（四差路、多差路及び三差路）
* 道路構造（トンネル、橋梁）が変化する場所
* 位置正確度や取得方法が変わる場所

高さは0とする。

|===

====== 交通（道路）モデル（LOD1）の定義

交通（道路）モデル（LOD1）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD1
| ●
| Road
| MultiSurface
|
* 地図情報レベル2500では幅員1m以上
* 地図情報レベルでは幅員0.5m以上
* 地図情報レベル500では全ての道路
|
* 道路縁をつないだ面を作成する。
* 以下の場所で区切る。
** 交差部
** 道路構造が変化する場所
** 位置正確度や取得方法が変わる場所
* 高さは0とする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_03_01_03]]
===== 交通（道路）モデル（LOD2）

====== 交通（道路）モデル（LOD2）の概要

交通（道路）モデル（LOD2）では、道路の形状を面により表現し、面を車道部、車道交差部、歩道部及び島に区分する。交通（道路）モデル（LOD2）の取得イメージを<<tab-4-18>>に示す。

[[tab-4-18]]
[cols="1a,9a"]
.交通（道路）モデル（LOD2）の取得イメージ
|===
h| ^h| LOD2
h| 取得例
|
image::images/071.webp.png[]

h| 説明 |
道路縁により囲まれた範囲を面として取得し、面を以下に区分する。

* 車道部
* 車道交差部
* 歩道部
* 島

高さは0とする。

|===

車道部とは、主として自動車が利用する道路の部分で、車線、すりつけ区間、分離帯が切断された車道の部分、側帯、路肩、停車帯、待避所、乗合自動車停車所、非常駐車帯、副道を含む。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>

車道交差部とは、十字路、丁字路、その他2つ以上の車道が交わる部分をいう。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>


歩道部とは、専ら歩行者と自転車の通行の用に供するため、工作物により車道部と区画して設置される道路の部分で、自転車道、自転車歩行者道、歩道を含む。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>


島とは、車両の走行を制御し、安全な交通を確保するために設置される分離帯及び交通島の部分をいう。

[.source]
<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>


====== 交通（道路）モデル（LOD2）の定義

交通（道路）モデル（LOD2）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD2
| ●
| Road
| MultiSurface
|
* 道路法の道路
* 建築基準法第42条の道路
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
|

.4+| LOD2
.4+| ●
.4+| TrafficArea
.4+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部を除く面を取得する。
* 高さは0とする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 隅切りに囲まれた車道部を取得する。
* 高さは0とする。
|
隅切りとは、道路構造令第27条第2項に示された、道路が同一平面で交差又は接続する場合に、隅角部を切り取り、適当な見とおしができる構造としたものをいう。
また、建築基準法施行規則第144条の4第1項第2号に示される隅切りを含む。

image::images/072.webp.png[]

|
* 車道交差部（隅切りが無い場合）
<|
* 交差する道路の道路縁が接する点を結ぶ線に囲まれた車道部を取得する。
* 高さは0とする。
|
image::images/073.webp.png[]

|
* 歩道部
<|
* 歩道の境界をつないだ面を取得する。
* 高さは0とする。
|

| LOD2
| ●
| Auxiliary Traffic Area
| MultiSurface
|
* 島
|
* 島の外周を取得する。
* 高さは0とする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_03_01_04]]
===== 交通（道路）モデル（LOD3）

====== 交通（道路）モデル（LOD3）の概要

交通（道路）モデル（LOD3）では、道路の形状を面により表現し、面を車道部、車道交差部、歩道部及び分離帯等に区分する。交通（道路）モデル（LOD3）は、「道路内の区分」（<<tab-4-19>>）と「高さの取得方法」（<<tab-4-20>>）の組み合わせが異なるLOD3.0、LOD3.1、LOD3.2、LOD3.3及びLOD3.4に区分する。標準製品仕様は、原則としてLOD3.0とする。ただし、ユースケースの必要に応じて、LOD3.1、LOD3.2、LOD3.3又はLOD3.4を採用できる。

[[tab-4-19]]
[cols="2a,4a,^4a,^1a,^1a,^1a,^1a,^1a"]
.LOD3.0、LOD3.1、LOD3.2、LOD3.3及び LOD3.4の「道路内の区分」
|===
2+| 交通（道路）モデル（LOD3）に含むべき地物 | 対応するCityGMLの地物型 | LOD3.0 | LOD3.1 | LOD3.2 | LOD3.3 | LOD3.4

2+| 道路 | Road |  ● |  ● |  ● |  ● |  ●
.5+| 車道部 | <| TrafficArea |  ● |  ● |  ● |  ● |  ●
| 車道交差部 | TrafficArea |  ● |  ● |  ● |  ● |  ●
| 車線 | TrafficArea | |  ● |  ● |  ● |  ●
| すりつけ区間、踏切道、軌道敷、待避所、副道、自動車駐車場（走路）、自転車駐車場（走路） | TrafficArea | | | | |  〇
| 非常駐車帯、中央帯、側帯、路肩、停車帯、乗合自動車停車所、自動車駐車場（駐車区画）、自転車駐車場（駐車区画） | AuxiliaryTrafficArea | | | | |  〇
.3+| 歩道部 | <| TrafficArea |  ● |  ● |  ● |  ● |  ●
| 歩道部上の植栽 | AuxiliaryTrafficArea | | |  ● |  ● |  ●
| 歩道、自転車歩行者道、自転車道 | TrafficArea | | | | |  〇
.2+| 島 | | AuxiliaryTrafficArea |  ● |  ● |  ● |  ● |  ●
| 交通島、分離帯、植樹帯、路面電車停車所 | AuxiliaryTrafficArea | | | | |  〇

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[tab-4-20]]
[cols="45a,^11a,^11a,^11a,^11a,^11a"]
.LOD3.0、LOD3.1、LOD3.2、LOD3.3及びLOD3.4の「高さの取得方法」
|===
| 取得方法 | LOD3.0 | LOD3.1 | LOD3.2 | LOD3.3 | LOD3.4

| 道路の横断方向の高さは一律とし、車道の高さとする。 |  ● |  ● | | |
| 道路の横断方向に15㎝以上の高さの差が存在した場合に、車道部、歩道部、島それぞれの高さを取得する。
|
| |  ● | |
| 道路の横断方向に2㎝以上の高さの差が存在した場合に、車道部、歩道部、島それぞれの高さを取得する。
|
| | |  ● |  ● footnote:[LOD3.4における取得の下限値は、ユースケースの必要に応じて定めることができる。]

|===


交通（道路）モデル（LOD3）の取得イメージを<<tab-4-21>>及び<<tab-4-22>>に示す。

// this table is_common to both doc01 and doc02 slide 24
// RWP aligned text 20240917

[[tab-4-21]]
[cols="1a,1a,1a,1a"]
.交通（道路）モデル（LOD3）の取得イメージ（道路内の区分）
|===
| LOD3.0 | LOD3.1 | LOD3.2及びLOD3.3 | LOD3.4

| 車道部、車道交差部、島及び歩道部を区分する。
| LOD3.0の区分を細分する。 +
車道部のうち、車線を区分する。
| LOD3.1の区分を細分する。 +
歩道部のうち、植栽を区分する。
| LOD3.3の区分を細分する。細分はユースケースに応じて決定する。

|
image::images/074.webp.png[]
|
image::images/075.webp.png[]
|
image::images/076.webp.png[]
|
image::images/077.webp.png[]

|===

NOTE: 青色着色している道路内の区分は、当該LODにおいて新たに区別ができるようになる区分である。

[[tab-4-22]]
[cols="1a,1a,1a"]
.交通（道路）モデル（LOD3）の取得イメージ（高さの取得方法）
|===
| LOD3.0及びLOD3.1 | LOD3.2 | LOD3.3及びLOD3.4

|
道路内（車道部、歩道部、島）の高さは、横断方向に同一（全て車道の高さ）となる。

立体交差が表現できる。

image::images/078.webp.png[]

|
道路の横断方向に存在する15㎝以上の高さの差を取得する。

. 高さの差が15㎝以上の段は、段の形状を取得する。
+
image::images/079.webp.png[]

. 高さの差が15㎝以上のスロープは、スロープの形状を取得する。
+
image::images/081.webp.png[]

. 高さの差が15㎝未満の段が複数あり、合計15㎝以上の高さの差がある場合は、スロープとして取得する。
+
image::images/083.webp.png[]

歩道と車道との間や車道と島との間に存在する縁石による段を表現できる。

|
道路の横断方向に存在する2㎝以上の高さの差を取得する。

. 高さの差が2㎝以上の段は、段の形状を取得する。
+
image::images/080.webp.png[]

. 高さの差が2㎝以上のスロープは、スロープの形状を取得する。
+
image::images/082.webp.png[]

. 高さの差が2㎝未満の段が複数あり、合計2㎝以上の高さの差がある場合は、スロープとして取得する。
+
image::images/084.webp.png[]

歩道に設けられた車道への切り下げ部に存在する段が表現できる。

image::images/085.webp.png[]

|===

====== 交通（道路）モデル（LOD3.0）の定義

交通（道路）モデル（LOD3.0）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.0
| ●
| Road
| MultiSurface
|
* 道路法の道路
* 建築基準法第42条の道路
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路内の高さは、横断方向に同一（全て車道の路面高さ）となる。

.4+| LOD3.0
.4+| ●
.4+| TrafficArea
.4+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 隅切りで囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 交差する道路の道路縁が接する点を結ぶ線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|
image::images/086.webp.png[]

|
* 歩道部
<|
* 歩道の境界をつないだ面を取得する。
* 高さは車道の路面高さとする。
|

| LOD3.0
| ●
| Auxiliary TrafficArea
| MultiSurface
|
* 島
|
* 島の外周を取得する。
* 高さは車道の路面高さとする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（道路）モデル（LOD3.1）の定義

交通（道路）モデル（LOD3.1）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.1
| ●
| Road
| MultiSurface
|
* 道路法の道路
* 建築基準法第42条の道路
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路内の高さは、横断方向に同一（全て車道の路面高さ）となる。

.5+| LOD3.1
.5+| ●
.5+| TrafficArea
.5+| MultiSurface
|
* 車道部
<|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線をつないだ面を作成する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、交差する道路の道路縁が接する点を結ぶ線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道の境界に囲まれた面を取得する。
* 高さは車道の路面高さとする。
|

| LOD3.1
| ●
| Auxiliary TrafficArea
| MultiSurface
|
* 島
|
* 島の外周を取得する。
* 高さは車道の路面高さとする。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（道路）モデル（LOD3.2）の定義

交通（道路）モデル（LOD3.2）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.2
| ●
| Road
| MultiSurface
|
* 道路法の道路
* 建築基準法第42条の道路
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路の横断方向に存在する15㎝以上の高さの差を取得する。

.6+| LOD3.2
.6+| ●
.6+| TrafficArea
.6+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線をつないだ面を作成する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、交差する道路の道路縁が接する点を結ぶ線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道の境界をつないだ面を取得する。
* 高さは歩道の路面高さとする。
* 横断歩道や車両出入口部に設置された歩道の切り下げ部では、歩道の高さは、車道の路面高さと同一の高さとする。
|

|
* 歩道部と車道部との間に存在する15㎝以上の高さの差
<|
* 15㎝以上の段の場合は、段の上端と下端を結ぶ面を作成し、その形状を取得する。
* 15㎝以上のスロープは、スロープの下端と上端を結ぶ面を取得する。
* 15㎝未満の段が複数存在する場合は、最下段の下端と最上段の上端を結ぶ面を作成する。
|
高さの差を表現する面は、歩道部の一部として取得する。

image::images/087.webp.png[]

.2+| LOD3.2
.2+| ●
.2+| Auxiliary TrafficArea
.2+| MultiSurface
|
* 島
|
* 島の上端の外周を面として取得する。
* 島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、島の上端の高さを与える。
|

|
* 植栽
<|
* 植栽の上端の外周を面として取得する。
* 植栽の下端の外周と島の上端の外周に囲まれた面を取得する。
* 植栽の下端の外周の各頂点には、歩道の路面の高さを与え、上端の外周の各頂点には、植栽の上端の高さを与える。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（道路）モデル（LOD3.3）の定義

交通（道路）モデル（LOD3.3）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.3
| ●
| Road
| MultiSurface
|
* 道路法の道路
* 建築基準法第42条の道路
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路の横断方向に存在する2㎝以上の高さの差を取得する。

.6+| LOD3.3
.6+| ●
.6+| TrafficArea
.6+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線をつないだ面を作成する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、交差する道路の道路縁が接する点を結ぶ線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道の境界をつないだ面を取得する。
* 高さは歩道の路面高さとする。
|

|
* 歩道部と車道部との間に存在する2㎝以上の高さの差
<|
* 2㎝以上の段の場合は、段の上端と下端を結ぶ面を作成し、その形状を取得する。
* 2㎝以上のスロープは、スロープの下端と上端を結ぶ面を取得する。
* 2㎝未満の段が複数存在する場合は、最下段の下端と最上段の上端を結ぶ面を作成する。
|
高さの差を表現する面は、歩道部の一部として取得する。

image::images/088.webp.png[]

.2+| LOD3.3
.2+| ●
.2+| Auxiliary TrafficArea
.2+| MultiSurface
|
* 島
|
* 島の上端の外周を面として取得する。
* 島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、島の上端の高さを与える。
|

|
* 植栽
<|
* 植栽の上端の外周を面として取得する。
* 植栽の下端の外周と島の上端の外周に囲まれた面を取得する。
* 植栽の下端の外周の各頂点には、歩道の路面の高さを与え、上端の外周の各頂点には、植栽の上端の高さを与える。
|

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

====== 交通（道路）モデル（LOD3.4）の定義

交通（道路）モデル（LOD3.4）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

[cols="1a,^1a,1a,1a,3a,3a,2a"]
|===
| LOD | | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足

| LOD3.4
| ●
| Road
| MultiSurface
|
* 道路法の道路
* 建築基準法第42条の道路
|
* TrafficArea及びAuxiliaryTrafficAreaの集まりとして作成する。
| 道路の横断方向に存在する2㎝以上の高さの差を取得する。

.6+| LOD3.4
.6+| ●
.6+| TrafficArea
.6+| MultiSurface
|
* 車道部
|
* 車道の境界をつないだ面を作成し、車道交差部及び車線を除く面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車線
<|
* 区画線又は道路標示をつないだ面を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りがある場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、隅切りに囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 車道交差部（隅切りが無い場合）
<|
* 停止線がある場合にはこれの延長とし、停止線がない場合には、交差する道路の道路縁が接する点を結ぶ線に囲まれた車道部を取得する。
* 高さは車道の路面高さとする。
|

|
* 歩道部
<|
* 歩道の境界をつないだ面を取得する。
* 高さは歩道の路面高さとする。
|

|
* 歩道部と車道部との間に存在する2㎝以上の高さの差
<|
* 2㎝以上の段の場合は、段の上端と下端を結ぶ面を作成し、その形状を取得する。
* 2㎝以上のスロープは、スロープの下端と上端を結ぶ面を取得する。
* 2㎝未満の段が複数存在する場合は、最下段の下端と最上段の上端を結ぶ面を作成する。
|
高さの差を表現する面は、歩道部の一部として取得する。

image::images/089.webp.png[]

| LOD3.4
| 〇
| TrafficArea
| MultiSurface
|
* すりつけ区間、踏切道、軌道敷、待避所、副道、自動車駐車場（走路）、自転車駐車場（走路）、
|
* 区画線又は道路標示をつないだ面を取得する。
* 高さは路面高さとする。
| ユースケースの必要に応じて、車道部又は車線を細分する。

| LOD3.4
| 〇
| TrafficArea
| MultiSurface
|
* 自転車歩行車道、自転車道、歩道
|
* 歩道部の境界をつないだ面を取得する。
* 高さは自転車歩行車道又は自転車の路面高さとする。
| ユースケースの必要に応じて、歩道部を細分する。

.2+| LOD3.4
.2+| ●
.2+| Auxiliary TrafficArea
.2+| MultiSurface
|
* 島
|
* 島の上端の外周を面として取得する。
* 島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、島の上端の高さを与える。
|

|
* 植栽
<|
* 植栽の上端の外周を面として取得する。
* 植栽の下端の外周と島の上端の外周に囲まれた面を取得する。
* 植栽の下端の外周の各頂点には、歩道の路面の高さを与え、上端の外周の各頂点には、植栽の上端の高さを与える。
|

| LOD3.4
| 〇
| Auxiliary TrafficArea
| MultiSurface
|
* 非常駐車帯、中央帯、側帯、路肩、停車帯、乗合自動車停車所、自動車駐車場（駐車区画）、自転車駐車場（駐車区画）
|
* 車道端、区画線又は道路標示をつないだ面を取得する。
* 高さは路面高さとする。
| ユースケースの必要に応じて、車道部を細分する。

| LOD3.4
| 〇
| Auxiliary TrafficArea
| MultiSurface
|
* 分離帯、交通島
|
* 分離帯又は交通島の上端の外周を面として取得する。
* 分離帯又は交通島の下端の外周と島の上端の外周に囲まれた面を取得する。
* 分離帯又は交通島の下端の外周の各頂点には、路面の高さを与え、上端の外周の各頂点には、分離帯又は交通島の上端の高さを与える。
| ユースケースの必要に応じて、島を細分する。

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_03_01_05]]
===== 各LODにおいて使用可能な地物型と空間属性

交通（道路）モデルの各LODにおいて使用可能な地物型と空間属性を<<tab-4-23>>に示す。

[[tab-4-23]]
[cols="3a,3a,^1a,^1a,^1a,^1a,4a"]
.交通（道路）モデルに使用する地物型と空間属性
|===
| 地物型 | 空間属性 | LOD0 | LOD1 | LOD2 | LOD3 | 適用

.6+| tran:Road | |  ● |  ● |  ● |  ● |
| tran:lod0Network ^|  ■ | | | .2+<| LOD0はネットワークを原則とするが、数値地形図との互換性を保つために、道路縁を選択できる。
| uro:lod0Geometry ^|  ■ | | |
| tran:lod1MultiSurface | |  ● | | |
| tran:lod2MultiSurface |  | |  ● | |
| tran:lod3MultiSurface |  | | |  ● |
.3+| tran:TrafficArea | | | |  ● |  ● |
| tran:lod2MultiSurface |  | |  ● | |
| tran:lod3MultiSurface |  | | |  ● |
.3+| tran:AuxiliaryTrafficArea | | | |  ● |  ● |
| tran:lod2MultiSurface |  | |  ● | |
| tran:lod3MultiSurface |  | | |  ● |

|===

[%key]
●:: 必須
■:: 条件付必須
〇:: 任意（ユースケースに応じて要否を決定してよい）

[[toc4_03_02]]
==== 交通（道路）モデルの応用スキーマクラス図

[[toc4_03_02_01]]
===== Transportation（CityGML）

Transportationパッケージは、交通に関する地物型を定義する。 +
標準製品仕様では、道路（tran:Road）、広場（tran:Square）、徒歩道（tran:Track）及び鉄道（tran:Railway）を定義する。 +
これらは、道路を構成する歩道や車道のような通行可能な領域（tran:TrafficArea）と、道路における路肩のように、これを補助する役割をもつ領域（tran:AuxiliaryTrafficArea）の集まりとして構成できる。

image::images/090.svg[]

[[toc4_03_02_02]]
===== Urban Object（i-UR）

====== tran:Roadの拡張属性

image::images/091.svg[]

====== tran:TrafficAreaの拡張属性

image::images/092.svg[]

====== tran:TransportationObject及びtran:TransportationComplexの拡張属性

image::images/093.svg[]

[[toc4_03_03]]
==== 交通（道路）モデルの応用スキーマ文書

[[toc4_03_03_01]]
===== Transportation（CityGML）

====== tran:Road

[cols="1a,1a,2a",options="noheader"]
|===
.3+| 型の定義
2+|
一般交通の用に供する場所。道路法第3条に示された道路の種類及び建築基準法第42条の定義を含む。

道路の延長方向は、以下の場所で区切る。

* 交差部（四差路、多差路及び三差路）
* 道路構造の変化点（トンネル、橋梁）

* 正確度（地図情報レベル）や取得方法
** an:Roadに含まれるtran:TrafficArea及びtran:AuxiliaryTrafficAreaは、同一路線に含まれなければならない。
+
同一のLODにおいて、連続する道路の境界は一致しなければならない。

.LOD1における道路の取得例
image::images/094.webp.png[]

2+|

.LOD2における道路の取得例
image::images/095.webp.png[]

2+|

.LOD3における道路の取得例
image::images/096.webp.png[]

h| 上位の型 2+| tran:TrafficComplex
h| ステレオタイプ 2+| << FeatureType >>
3+h| 継承する属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| gml:description | gml:StringOrRefType [0..1] | 道路の概要。
| gml:name | gml:CodeType [0..1] | 道路を識別する名称。道路法に基づき路線が指定又は認定された路線名。文字列とする。
h| (gml:boundedBy) | gml:Envelope [0..1] | オブジェクトの範囲と空間参照系。
| core:creationDate | xs:date [0..1] | データが作成された日。運用上必須とする。
| core:terminationDate | xs:date [0..1] | データが削除された日。
h| (core:relativeToTerrain) | core:RelativeToTerrainType [0..1] | 地表面との相対的な位置関係。
h| (core:relativeToWater) | core:RelativeToWaterType [0..1] | 水面との相対的な位置関係。
| tran:class | gml:CodeType [0..1] | 交通の分類。コードリスト（TransportationComplex_class.xml）より選択する。
| tran:function | gml:CodeType [0..*] | 道路法における道路の区分及び建築基準法における道路の区分。コードリスト（Road_function.xml）より選択する。
| tran:usage | gml:CodeType [0..*] | 道路の利用方法。コードリスト（Road_usage.xml）より選択する。
3+h| 継承する関連役割
h| 関連役割名 h| 関連役割の型及び多重度 h| 定義
h| (gen:stringAttribute) | gen:stringAttribute [0..*] | 文字列型属性。属性を追加したい場合に使用する。
h| (gen:intAttribute) | gen:intAttribute [0..*] | 整数型属性。属性を追加したい場合に使用する。
h| (gen:doubleAttribute) | gen:doubleAttribute [0..*] | 実数型属性。属性を追加したい場合に使用する。
h| (gen:dateAttribute) | gen:dateAttribute [0..*] | 日付型属性。属性を追加したい場合に使用する。
h| (gen:uriAttribute) | gen:uriAttribute [0..*] | URI型属性。属性を追加したい場合に使用する。
h| (gen:measureAttribute) | gen:measureAttribute [0..*] | 単位付き数値型属性。属性を追加したい場合に使用する。
h| (gen:genericAttributeSet) | gen:GenericAttributeSet [0..*] | 汎用属性のセット（集合）。属性を追加したい場合に使用する。
| tran:trafficArea | tran:TrafficArea [0..*] | 道路を構成する要素のうち、車両や人が通行可能な領域への参照。
| tran:auxiliaryTrafficArea | tran:AuxiliaryTrafficArea [0..*] | 道路を構成する要素のうち、交通領域の機能を補助するために設けられた領域への参照。
| tran:lod0Network | gml:GeometricComplex [0..*] | 道路の連続性を表現する線。
| tran:lod1MultiSurface
| gml:MultiSurface [0..1]
| 道路縁により囲まれた道路の範囲。 +
車道交差部では、隅切りを結ぶ線により区切ることを基本とする。道路両側の隅切り位置が道路延長方向に大きく異なる場合は、より交差点より遠い隅切り位置より横断方向に区切る。 +
隅切りが無い場合は、交差する道路の道路縁の接点を結ぶ線により区切る。

| tran:lod2MultiSurface
| gml:MultiSurface [0..1]
| 道路縁により囲まれた道路の範囲。 +
tran:Roadが参照するtran:TrafficArea及びtran:AuxiliaryTrafficAreaのtran:lod2MultiSurfaceに含まれる、全てのgml:Polygonにより構成する。

| tran:lod3MultiSurface
| gml:MultiSurface [0..1]
| 道路縁により囲まれた道路の範囲。 +
tran:Roadが参照するtran:TrafficArea及びtran:AuxiliaryTrafficAreaのtran:lod3MultiSurfaceに含まれる、全てのgml:Polygonにより構成する。

| uro:tranKeyValuePairAttribute | uro:KeyValuePairAttribute [0..*] | 属性を拡張するための仕組み。コ－ド値以外の属性を拡張する場合は、gen:_GenericAttributeの下位型を使用する。
| uro:tranDataQualityAttribute | uro:DataQualityAttribute [1] | 作成したデータの品質に関する情報。必須とする。
| uro:tranDmAttribute | uro:DmAttribute [0..*] | 公共測量標準図式による図形表現に必要な情報。
| uro:tranFacilityTypeAttribute | uro:FacilityTypeAttribute [0..*] | 特定分野における施設の分類情報。
| uro:tranFacilityIdAttribute | uro:FacilityIdAttribute [0..1] | uro:tranFacilityTypeAttribute.classによって指定された分野における施設の識別情報。
| uro:tranFacilityAttribute | uro:FacilityAttribute [0..*] | uro:tranFacilityTypeAttribute.classによって指定された分野における施設管理情報。
3+h| 自身に定義された関連役割
h| 関連役割名 h| 関連役割の型及び多重度 h| 定義
| uro:roadStructureAttribute | uro:RoadStructureAttribute [0..1] | 当該道路の道路構造に関する情報。
| uro:trafficVolumeAttribute | uro:TrafficVolumeAttribute [0..1] | 当該道路を通行する車両の量に関する情報。

|===

====== tran:TrafficArea

[cols="1a,1a,2a",options="noheader"]
|===
.4+| 型の定義
2+|
車両や人が通行可能な領域。

* LOD2及びLOD3.0の場合は、車道部として、車両の利用が想定された車線や路肩その他一体的な舗装がされた全ての道路の部分を対象とする。また、歩道部として、歩道及び歩道上に設置された植栽の範囲を対象とする。

.LOD2及びLOD3.0におけるtran:TrafficAreaの例
image::images/097.webp.png[]

2+|
* LOD3.1の場合は、LOD3.0の車道部のうち、車線を細分する。

.LOD3.1におけるtran:TrafficAreaの例
image::images/098.webp.png[]

2+|
* LOD3.2及びLOD3.3の場合は、LOD3.1の歩道部から歩道上の植栽を除いた範囲を歩道部とする。

.LOD3.2及びLOD3.3におけるtran:TrafficAreaの例
image::images/099.webp.png[]

2+|
* LOD3.4の場合は、コードリストの区分に従う。

.LOD3.4におけるtran:TrafficAreaの例
image::images/100.webp.png[]

1つの道路オブジェクトに含まれる交通領域は、属性の変化が無い限り、区分しない。

h| 上位の型 2+| tran:_TransportationObject
h| ステレオタイプ 2+| << FeatureType >>
3+h| 継承する属性
h| 属性名 h| 属性の型及び多重度 h| 定義
h| (gml:description) | gml:StringOrRefType [0..1] | 概要。
h| (gml:name) | gml:CodeType [0..1] | 識別する名称。
h| (gml:boundedBy) | gml:Envelope [0..1] | オブジェクトの範囲と空間参照系。
| core:creationDate | xs:date [0..1] | データが作成された日。運用上必須とする。
| core:terminationDate | xs:date [0..1] | データが削除された日。
h| (core:relativeToTerrain) | core:RelativeToTerrainType [0..1] | 地表面との相対的な位置関係。
h| (core:relativeToWater) | core:RelativeToWaterType [0..1] | 水面との相対的な位置関係。
3+h| 自身に定義された属性
h| (tran:class) | gml:CodeType [0..1] | 交通の分類。
| tran:function | gml:CodeType [0..*] | 区画線や路面標示、道路標識等により示された交通領域の機能。コードリスト（TrafficArea_function.xml）より選択する。
h| (tran:usage) | gml:CodeType [0..*] | 交通領域の利用方法。
| tran:surfaceMaterial | gml:CodeType [0..1] | 表層舗装の有無及び材質。複数の表層舗装が混在している場合は、最も面積を占める舗装とする。コードリスト（TrafficArea\_ surfaceMaterial.xml）より選択する。
3+h| 継承する関連役割
h| 関連役割名 h| 関連役割の型及び多重度 h| 定義
h| (gen:stringAttribute) | gen:stringAttribute [0..*] | 文字列型属性。属性を追加したい場合に使用する。
h| (gen:intAttribute) | gen:intAttribute [0..*] | 整数型属性。属性を追加したい場合に使用する。
h| (gen:doubleAttribute) | gen:doubleAttribute [0..*] | 実数型属性。属性を追加したい場合に使用する。
h| (gen:dateAttribute) | gen:dateAttribute [0..*] | 日付型属性。属性を追加したい場合に使用する。
h| (gen:uriAttribute) | gen:uriAttribute [0..*] | URI型属性。属性を追加したい場合に使用する。
h| (gen:measureAttribute) | gen:measureAttribute [0..*] | 単位付き数値型属性。属性を追加したい場合に使用する。
h| (gen:genericAttributeSet) | gen:GenericAttributeSet [0..*] | 汎用属性のセット（集合）。属性を追加したい場合に使用する。
3+h| 自身に定義された関連役割
h| 関連役割名 h| 関連役割の型及び多重度 h| 定義
| tran:lod2MultiSurface
| gml:MultiSurface [0..1]
| 区画線や縁石等により示される境界線に囲まれた領域のうち、通行可能な道路の部分（歩道部、車道部、車道交差部）。 +
高さは0とする。 +
隣接するtran:TrafficArea又はtran:AuxiliaryTrafficAreaとの境界線の座標を一致させる。 +
tran:TrafficAreaのtran:lod2MultiSurfaceは、同一のtran:Roadのオブジェクトに含まれる他のtran:TrafficAreaやtran:AuxiliaryTrafficAreaのtran:lod2MultiSurfaceと重なることはない。（ただし、立体的な構造をもつ道路を除く） +
車道交差部での区切りは、LOD1と同様とする。分離帯がある場合には、車道交差部の範囲を分離帯までとする。 +
境界線として区画線を使用する場合は、区画線の中心を境界線とする。

| tran:lod3MultiSurface
| gml:MultiSurface [0..1]
| 区画線や縁石等により示される境界線に囲まれた領域のうち、通行可能な道路の部分。 +
LOD3.0の場合、横断方向に連続する交通領域の高さは一律とし、車道の標高とする。 +
LOD3.1～LOD3.4では、各水平位置における標高とする。 +
隣接するtran:TrafficArea又はtran:AuxiliaryTrafficAreaとの境界線の座標を一致させる。 +
tran:TrafficAreaのtran:lod3MultiSurfaceは、同一のtran:Roadのオブジェクトに含まれる他のtran:TrafficAreaやtran:AuxiliaryTrafficAreaのtran:lod3MultiSurfaceと重なることはない。 +
LOD3.0の場合、車道交差部での区切りはLOD2と同様とする。 +
LOD3.1～LOD3.4では、停止線がある場合にはこれの延長とし、停止線がない場合には、LOD2と同様とするが、ユースケースに応じて決定できる。 +
境界線として区画線を使用する場合は、区画線の中心を境界線とする。

| uro:trafficAreaStructureAttribute
| uro:TrafficAreaStructureAttribute [0..1]
| 交通領域の構造。道路の交通領域の場合にのみ取得する。 +
交通領域内の代表車線数を記述する。交通領域において車線を区分しない場合にのみ用いる。

|===

====== tran:AuxiliaryTrafficArea

[cols="1a,1a,2a",options="noheader"]
|===
.3+| 型の定義
2+|
道路を構成する領域のうち、交通領域の機能を補助するために設けられた領域。

* LOD2、LOD3.0及びLOD3.1の場合は、道路内の島状の施設（交通島及び分離帯、路面電車停車所）を対象とする。

.LOD2、LOD3.0及びLOD3.1での道路のtran:AuxiliaryTrafficAreaの取得例
image::images/101.webp.png[]

2+|
* LOD3.2及びLOD3.3の場合は、上記に加え、歩道部に設置された植栽を対象とする。

.LOD3.2及びLOD3.3での道路のtran:AuxiliaryTrafficAreaの取得例
image::images/102.webp.png[]

2+|
* LOD3.4に場合は、tran:functionにより指定されるコードリストの区分に従う。

.LOD3.4での道路のtran:AuxiliaryTrafficAreaの取得例
image::images/103.webp.png[]

1つの道路オブジェクトに含まれる交通補助領域は、属性の変化が無い限り、延長方向では区分しない（例：延長方向に連続する分離帯を細分しない）。

h| 上位の型 2+| tran:_TransportationObject
h| ステレオタイプ 2+| << FeatureType >>
3+h| 継承する属性
h| 属性名 h| 属性の型及び多重度 h| 定義
h| (gml:description) | gml:StringOrRefType [0..1] | 道路の概要。
h| (gml:name) | gml:CodeType [0..1] | 道路を識別する名称。道路法に基づき路線が指定又は認定された路線名。
h| (gml:boundedBy) | gml:Envelope [0..1] | オブジェクトの範囲と空間参照系。
| core:creationDate | xs:date [0..1] | データが作成された日。運用上必須とする。
| core:terminationDate | xs:date [0..1] | データが削除された日。
h| (core:relativeToTerrain) | core:RelativeToTerrainType [0..1] | 地表面との相対的な位置関係。
h| (core:relativeToWater) | core:RelativeToWaterType [0..1] | 水面との相対的な位置関係。
3+h| 自身に定義された属性
h| (tran:class) | gml:CodeType [0..1] | 交通の分類。
| tran:function | gml:CodeType [0..*] | 区画線や路面標示、道路標識等により示された交通補助領域の機能。コードリスト（AuxiliaryTrafficArea_function.xml）より選択する。
h| (tran:usage) | gml:CodeType [0..*] | 交通補助領域の利用方法。
| tran:surfaceMaterial | gml:CodeType [0..1] | 表層舗装の有無及び材質。複数の表層舗装が混在している場合は、最も面積を占める舗装とする。コードリスト（AuxiliaryTrafficArea\_ surfaceMaterial.xml）より選択する。
3+h| 継承する関連役割
h| 関連役割名 h| 関連役割の型及び多重度 h| 定義
h| (gen:stringAttribute) | gen:stringAttribute [0..*] | 文字列型属性。属性を追加したい場合に使用する。
h| (gen:intAttribute) | gen:intAttribute [0..*] | 整数型属性。属性を追加したい場合に使用する。
h| (gen:doubleAttribute) | gen:doubleAttribute [0..*] | 実数型属性。属性を追加したい場合に使用する。
h| (gen:dateAttribute) | gen:dateAttribute [0..*] | 日付型属性。属性を追加したい場合に使用する。
h| (gen:uriAttribute) | gen:uriAttribute [0..*] | URI型属性。属性を追加したい場合に使用する。
h| (gen:measureAttribute) | gen:measureAttribute [0..*] | 単位付き数値型属性。属性を追加したい場合に使用する。
h| (gen:genericAttributeSet) | gen:GenericAttributeSet [0..*] | 汎用属性のセット（集合）。属性を追加したい場合に使用する。
3+h| 自身に定義された関連役割
h| 関連役割名 h| 関連役割の型及び多重度 h| 定義
| tran:lod2MultiSurface
| gml:MultiSurface [0..1]
| 縁石等により示される境界線に囲まれた領域のうち、通行の用に供しない道路の部分（分離帯、交通島、路面電車停車所）。高さは0とする。隣接するtran:TrafficArea又はtran:AuxiliaryTrafficAreaとの境界線の座標を一致させる。 +
tran: AuxiliaryTrafficAreaのtran:lod2MultiSurfaceは、同一のtran:Roadのオブジェクトに含まれる他のtran:TrafficAreaやtran:AuxiliaryTrafficAreaのtran:lod2MultiSurfaceと重なることはない。（ただし、立体的な構造をもつ道路を除く。） +
車道交差部での区切りは、LOD1と同様とする。分離帯がある場合には、車道交差部の範囲を分離帯までとする。 +
境界線として区画線を使用する場合は、区画線の中心を境界線とする。

| tran:lod3MultiSurface
| gml:MultiSurface [0..1]
a| 縁石等により示される境界線に囲まれた領域のうち、通行の用に供しない道路の部分。 +
LOD3.0の場合、横断方向に連続する交通領域の高さは一律とし、車道の標高とする。 +
LOD3.1～LOD3.4では、各水平位置における標高とする。 +
隣接するtran:TrafficArea又はtran:AuxiliaryTrafficAreaとの境界線の座標を一致させる。 +
tran: AuxiliaryTrafficAreaのtran:lod3MultiSurfaceは、同一のtran:Roadのオブジェクトに含まれる他のtran:TrafficAreaやtran:AuxiliaryTrafficAreaのtran:lod3MultiSurfaceと重なることはない。 +
LOD3.0の場合、車道交差部での区切りは、LOD2と同様とする。 +
LOD3.1～LOD3.4では、停止線がある場合にはこれの延長とし、停止線がない場合には、LOD2と同様とするが、ユースケースに応じて決定できる。

境界線として区画線を使用する場合は、区画線の中心を境界線とする。

|===

[[toc4_03_03_02]]
===== Urban Object（i-UR）

====== uro:KeyValuePairAttribute

[cols="1a,1a,2a"]
|===
| 型の定義
2+| 都市オブジェクトに付与する追加情報。都市オブジェクトが継承する属性及び都市オブジェクトに定義された属性以外にコード型の属性を追加したい場合に使用する。 +
属性名称と属性の値の対で構成される。コード値以外の属性を追加する場合は、gen:_GenericAttributeを使用すること。

h| 上位の型 2+| ―
h| ステレオタイプ 2+| << DataType >>
3+h| 自身に定義された属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| uro:key | gml:CodeType [1] | 拡張する属性の名称。名称は、コ－ドリスト（KeyValuePairAttribute_key.xml）を作成し、選択する。
| uro:codeValue
| gml:CodeType [1]
| 拡張された属性の値。値は名称は、コ－ドリスト（KeyValuePairAttribute_key[%key].xml）を作成し、選択する。 +
[%key]は、属性uro:keyの値に一致する。

h| 型の定義
2+| 都市オブジェクトに付与する追加情報。都市オブジェクトが継承する属性及び都市オブジェクトに定義された属性以外にコード型の属性を追加したい場合に使用する。 +
属性名称と属性の値の対で構成される。コード値以外の属性を追加する場合は、gen:_GenericAttributeを使用すること。

h| 上位の型 2+| ―
h| ステレオタイプ 2+| << DataType >>
3+h| 自身に定義された属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| uro:key | gml:CodeType [1] | 拡張する属性の名称。名称は、コ－ドリスト（KeyValuePairAttribute_key.xml）を作成し、選択する。
| uro:codeValue
| gml:CodeType [1]
| 拡張された属性の値。値は名称は、コ－ドリスト（KeyValuePairAttribute_key[%key].xml）を作成し、選択する。 +
[%key]は、属性uro:keyの値に一致する。

|===

====== uro:DataQualityAttribute

[cols="1a,1a,2a"]
|===
| 型の定義 2+| 都市オブジェクトの品質を記述するためのデータ型。

h| 上位の型 2+| ―
h| ステレオタイプ 2+| << DataType >>
3+h| 自身に定義された属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| uro:geometrySrcDescLod0
| gml:CodeType [0..*]
| LOD0の幾何オブジェクトの作成に使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択する。拡張製品仕様書でLOD0の幾何オブジェクトが作成対象となっている場合は必須とする。この場合、具体的な都市オブジェクトがLOD0の幾何オブジェクトを含んでいない場合でも、「未作成」を示すコード「999」を選択すること（例えば、交通（道路）モデルについて、一部の範囲のみLOD0の幾何オブジェクトが作成され、対象とする都市オブジェクトにはLOD1の幾何オブジェクトのみが含まれているような場合でも、その都市オブジェクトに関する本属性の値は「999」となる。）。

| uro:geometrySrcDescLod1
| gml:CodeType [1..*]
| LOD1の幾何オブジェクトの作成に使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択する。具体的な都市オブジェクトがLOD1の幾何オブジェクトを含んでいない場合でも、「未作成」を示すコード「999」を選択すること。

| uro:geometrySrcDescLod2
| gml:CodeType [0..*]
| LOD2の幾何オブジェクトの作成に使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択する。拡張製品仕様書でLOD2の幾何オブジェクトが作成対象となっている場合は必須とする。この場合、具体的な都市オブジェクトがLOD2の幾何オブジェクトを含んでいない場合でも、「未作成」を示すコード「999」を選択すること（例えば、交通（道路）モデルについて、一部の範囲のみLOD0の幾何オブジェクトが作成され、対象とする都市オブジェクトにはLOD1の幾何オブジェクトのみが含まれているような場合でも、その都市オブジェクトに関する本属性の値は「999」となる。）。

| uro:geometrySrcDescLod3
| gml:CodeType [0..*]
| LOD3の幾何オブジェクトの作成に使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択する。拡張製品仕様書でLOD3の幾何オブジェクトが作成対象となっている場合は必須とする。この場合、具体的な都市オブジェクトがLOD3の幾何オブジェクトを含んでいない場合でも、「未作成」を示すコード「999」を選択すること（例えば、交通（道路）モデルについて、一部の範囲のみLOD0の幾何オブジェクトが作成され、対象とする都市オブジェクトにはLOD1の幾何オブジェクトのみが含まれているような場合でも、その都市オブジェクトに関する本属性の値は「999」となる。）。

h| (uro:geometrySrcDescLod4) | gml:CodeType [0..*] | LOD4の幾何オブジェクトの作成に使用した原典資料の種類。
| uro:thematicSrcDesc
| gml:CodeType [0..*]
| 主題属性の作成に使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_thematicSrcDesc.xml）より選択する。 +
主題属性が作成対象となっている場合は必須とする。

| uro:appearanceSrcDescLod0
| gml:CodeType [0..*]
| LOD0の幾何オブジェクトのアピアランスに使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_appearanceSrcDesc.xml）より選択する。 +
拡張製品仕様書でLOD0の幾何オブジェクトのアピアランスが作成対象となっている場合は必須とする。この場合、具体的な都市オブジェクトがLOD0の幾何オブジェクトのアピアランスを含んでいない場合でも、「未作成」を示すコード「999」を選択すること。

| uro:appearanceSrcDescLod1
| gml:CodeType [0..*]
| LOD1の幾何オブジェクトのアピアランスに使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_appearanceSrcDesc.xml）より選択する。 +
拡張製品仕様書LOD1の幾何オブジェクトのアピアランスが作成対象となっている場合は必須とする。この場合、具体的な都市オブジェクトがLOD1の幾何オブジェクトのアピアランスを含んでいない場合でも、「未作成」を示すコード「999」を選択すること。

| uro:appearanceSrcDescLod2
| gml:CodeType [0..*]
| LOD2の幾何オブジェクトのアピアランスに使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_appearanceSrcDesc.xml）より選択する。 +
拡張製品仕様書でLOD2の幾何オブジェクトのアピアランスが作成対象となっている場合は必須とする。この場合、具体的な都市オブジェクトがLOD2の幾何オブジェクトのアピアランスを含んでいない場合でも、「未作成」を示すコード「999」を選択すること。

| uro:appearanceSrcDescLod3
| gml:CodeType [0..*]
| LOD3の幾何オブジェクトのアピアランスに使用した原典資料の種類。 +
コードリスト（DataQualityAttribute_appearanceSrcDesc.xml）より選択する。 +
拡張製品仕様書でLOD3の幾何オブジェクトのアピアランスが作成対象となっている場合は必須とする。この場合、具体的な都市オブジェクトがLOD3の幾何オブジェクトのアピアランスを含んでいない場合でも、「未作成」を示すコード「999」を選択すること。

h| uro:appearanceSrcDescLod4 | gml:CodeType [0..*] | LOD4の幾何オブジェクトのアピアランスに使用した原典資料の種類。
| uro:lodType
| gml:CodeType[0..*]
| 幾何オブジェクトに適用されたLODの詳細な区分。 +
コードリスト（Road_lodType.xml）より選択する。 +
LOD3の幾何オブジェクトを作成する場合は必須とする。

h| (uro:lod1HeightType) | gml:CodeType [0..1] | LOD1の立体図形を作成する際に使用した高さの算出方法。
| uro:tranDataAcquisition
| xs:string [0..1]
| 「<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>」（平成27年5月）に定める「取得レベル(level)」を記述するための属性。 +
tran:Roadの場合に記述することができる。 +
文字列型で記述する内容は「<<nilim_kiban_dps,道路基盤地図情報（整備促進版）製品仕様書（案）>>」に従う。例えば、道路モデルが空中写真測量成果を用いて作成されている場合はその旨と撮影縮尺を記述する（航空写真測量（１／４０００））。既成図数値化の場合は元となる図面の種類を記述する（既成数値化（道路台帳付図））。補備測量を行った場合はその旨を記述する（既存資源活用＋部分的補備測量）。

3+h| 自身に定義された関連役割
h| 関連役割名 h| 関連役割の型及び多重度 h| 定義
| uro:publicSurveyDataQualityAttribute
| uro:PublicSurveyDataQualityAttribute [0..1]
| 使用した公共測量成果の地図情報レベルと種類。 +
各LODの幾何オブジェクトの作成に使用した原典資料の種類に関する属性（uro:geometrySrcDescLod0等）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）となっている場合は、必須とする。

|===

====== uro:PublicSurveyDataQualityAttribute

[cols="1a,1a,2a"]
|===
| 型の定義 2+| 使用した公共測量成果の地図情報レベルと種類を、LODごとに記述するためのデータ型。

h| 上位の型 2+| ―
h| ステレオタイプ 2+| << DataType >>
3+h| 自身に定義された属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| uro:srcScaleLod0
| gml:CodeType [0..1]
| LOD0の幾何オブジェクトの作成に使用した原典資料の地図情報レベル。 +
コードリスト（PublicSurveyDataQualityAttribute_srcScale.xml）より選択する。 +
「LOD0の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod0）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。

| uro:srcScaleLod1
| gml:CodeType [0..1]
| LOD1の幾何オブジェクトの作成に使用した原典資料の地図情報レベル。 +
コードリスト（PublicSurveyDataQualityAttribute_srcScale.xml）より選択する。 +
「LOD1の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod1）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。

| uro:srcScaleLod2
| gml:CodeType [0..1]
| LOD2の幾何オブジェクトの作成に使用した原典資料の地図情報レベル。 +
コードリスト（PublicSurveyDataQualityAttribute_srcScale.xml）より選択する。 +
「LOD2の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod2）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。 +
複数の地図情報レベルが混在する場合は、最も低い地図情報レベルを記載する。例えば地図情報レベル2500の公共測量成果と地図情報レベル500の公共測量成果を使用した場合は、地図情報レベル2500となる。

| uro:srcScaleLod3
| gml:CodeType [0..1]
| LOD3の幾何オブジェクトの作成に使用した原典資料の地図情報レベル。 +
コードリスト（PublicSurveyDataQualityAttribute_srcScale.xml）より選択する。 +
「LOD3の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod3）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。 +
複数の地図情報レベルが混在する場合は、最も低い地図情報レベルを記載する。例えば地図情報レベル2500の公共測量成果と地図情報レベル500の公共測量成果を使用した場合は、地図情報レベル2500となる。

| uro:srcScaleLod4 | gml:CodeType [0..1] | LOD4の幾何オブジェクトの作成に使用した原典資料の地図情報レベル。
| uro:publicSurveySrcDescLod0
| gml:CodeType [0..*]
| LOD0の幾何オブジェクトの作成に使用した原典資料の種類。コードリスト（PublicSurveyDataQualityAttribute_publicSurveySrcDesc.xml）より選択する。 +
「LOD0の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod0）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。 +
複数の種類の原典資料を使用した場合は、それぞれを記述する。

| uro:publicSurveySrcDescLod1
| gml:CodeType [0..*]
| LOD1の幾何オブジェクトの作成に使用した原典資料の種類。コードリスト（PublicSurveyDataQualityAttribute_publicSurveySrcDesc.xml）より選択する。 +
「LOD1の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod1）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。 +
複数の種類の原典資料を使用した場合は、それぞれを記述する。

| uro:publicSurveySrcDescLod2
| gml:CodeType [0..*]
| LOD2の幾何オブジェクトの作成に使用した原典資料の種類。コードリスト（PublicSurveyDataQualityAttribute_publicSurveySrcDesc.xml）より選択する。 +
「LOD2の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod2）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。 +
複数の種類の原典資料を使用した場合は、それぞれを記述する。

| uro:publicSurveySrcDescLod3
| gml:CodeType [0..*]
| LOD3の幾何オブジェクトの作成に使用した原典資料の種類。コードリスト（PublicSurveyDataQualityAttribute_publicSurveySrcDesc.xml）より選択する。 +
「LOD3の幾何オブジェクトの作成に使用した原典資料の種類についての属性」（uro:geometrySrcDescLod3）のコード値（コードリスト（DataQualityAttribute_geometrySrcDesc.xml）より選択される）が公共測量成果（コード「000」）のみの場合は、必須とする。 +
複数の種類の原典資料を使用した場合は、それぞれを記述する。

h| (uro:publicSurveySrcDescLod4) | gml:CodeType [0..*] | LOD4の幾何オブジェクトの作成に使用した原典資料の種類。

|===

====== uro:RoadStructureAttribute

[cols="1a,1a,2a"]
|===
| 型の定義 2+| 道路を、路線、同等以上の道路との交差点、道路構造の変化点（トンネル、橋梁）で変化する場所で区切った区間における、道路の構造。

h| 上位の型 2+| ー
h| ステレオタイプ 2+| << DataType >>
3+h| 自身に定義された属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| uro:widthType | gml:CodeType [0..1] | 幅員の区分。コードリスト（RoadStructureAttribute_widthType.xml）より選択する。都市計画基礎調査で収集されている場合にのみ作成する。
| uro:width | gml:LengthType [0..1] | 中央帯、車道、路肩、植樹帯、歩道等及び環境施設帯（環境施設帯の中の路肩、植樹帯、歩道等の部分を除いた部分）の幅員を合計した幅員。単位はm（uom=”m”）とする。
| uro:numberOfLanes
| xs:integer [0..1]
| 上下線の合計（一方通行区間の場合を除く）の車線数。 +
道路構造令第 2 条第 7 号の登坂車線、同第 2 条第 6 号にいう付加追越車線、同第 2 条 8 号の屈折車線、同第 2 条第 9 号の変速車線及び同第 2 条第 14 号の停車帯、及びゆずり車線は車線数には含めない。交差点付近において、右左折のための車線が設けられている場合はこの数を含まない。 +
「1 車線道路」は道路構造令第 5 条 1 項ただし書きによって、車線により構成されない車道を持つ道路であるが、ここでは車線数＝1とする。「1車線道路」は車道幅員が5.5m未満の場合とする。 +
道路構造が「交差部」の場合、この属性は作成しない。

| uro:sectionType | gml:CodeType [0..1] | 道路構造の種別。コードリスト（RoadStructureAttribute_sectionType.xml）より選択する。

|===

====== uro:TrafficVolumeAttribute

[cols="1a,1a,2a"]
|===
| 型の定義 2+| 道路の交通量に関する情報。全国道路・街路交通情勢調査一般交通量調査の対象となる高速自動車国道、都市高速道路、一般国道、主要地方道である都道府県道及び指定市の市道、一般都道府県道、指定市の一部の一般市道を対象とする。

h| 上位の型 2+| ー
h| ステレオタイプ 2+| << DataType >>
3+h| 自身に定義された属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| uro:sectionID | xs:string [0..1] | 交通量調査において、調査の単位となる交通調査基本区間に付与される番号。原則として「都道府県（2 桁）」＋「道路種別（1 桁）」＋「路線番号（4 桁）」＋「順番号（4 桁）」からなる 11 桁の番号。
| uro:routeName | xs:string [0..1] | 路線名。
| uro:weekday12hourTrafficVolume | xs:integer [0..1] | 平日7時~19時までに通過する車両台数。単位は台とする。
| uro:weekday24hourTrafficVolume | xs:integer [0..1] | 平日7時~翌朝7時又は0時~翌日0時までに通過する車両台数。単位は台とする。
| uro:largeVehicleRate | xs:double [0..1] | 自動車類交通量に対する大型車交通量の割合。単位は％とする。
| uro:congestionRate | xs:double [0..1] | 交通調査基本区間の交通容量に対する交通量の比。単位は％とする。
| uro:averageTravelSpeedInCongestion | xs:double [0..1] | 朝のラッシュ時間帯（7 時～ 9 時）又は夕方のラッシュ時間帯（17時～19 時）において平均旅行速度を集計し、その遅い方の時間帯の旅行速度。都市計画基礎調査で収集されている場合にのみ作成する。単位はkm/hとする。
| uro:averageInboundTravelSpeedInCongestion | xs:double [0..1] | 朝のラッシュ時間帯（7 時～ 9 時）又は夕方のラッシュ時間帯（17時～19 時）において上り線における平均旅行速度を集計し、その遅い方の時間帯の旅行速度。単位はkm/hとする。
| uro:averageOutboundTravelSpeedInCongestion | xs:double [0..1] | 朝のラッシュ時間帯（7 時～ 9 時）又は夕方のラッシュ時間帯（17時～19 時）において下り線における平均旅行速度を集計し、その遅い方の時間帯の旅行速度。単位はkm/hとする。
| uro:averageInboundTravelSpeedNotCongestion
| xs:double [0..1]
| 昼間非混雑時（9～17 時）における上り線の平均旅行速度。 +
単位はkm/hとする。

| uro:averageOutboundTravelSpeedNotCongestion
| xs:double [0..1]
| 昼間非混雑時（9～17 時）における下り線平均旅行速度。 +
単位はkm/hとする。

| uro:observationPointName | xs:string [0..1] | 交通量等を観測した地点の名称。
| uro:reference | xs:string [0..1] | 対象となる道路の区間を図上で識別する番号。
| uro:surveyYear | xs:gYear [0..1] | 調査が実施された年。必須とする。

|===

====== uro:TrafficAreaStructureAttribute

[cols="1a,1a,2a"]
|===
| 型の定義 2+| 交通領域の構造。

h| 上位の型 2+| uro:TrafficAreaAttribute
h| ステレオタイプ 2+| << DataType >>
3+h| 自身に定義された属性
h| 属性名 h| 属性の型及び多重度 h| 定義
| uro:numberOfLanes | xs:integer [0..1] | 交通領域内の合計（一方通行区間の場合を除く）の車線数。

道路構造令第2条第7号の登坂車線、同第2条第6号にいう付加追越車線、同第2条8号の屈折車線、同第2条第9号の変速車線及び同第2条第14号の停車帯、及びゆずり車線は車線数には含めない。交差点付近において、右左折のための車線が設けられている場合はこの数を含まない。 LOD2及びLOD3.0の車道部のみにこの属性を付与する。

|===

[[toc4_03_03_03]]
===== 施設管理のための拡張属性

====== uro:FacilityIdAttribute

<<toc4_26_03,施設管理属性の応用スキーマ文書>>　参照。

====== uro:FacilityTypeAttribute

<<toc4_26_03,施設管理属性の応用スキーマ文書>>　参照。

====== uro:FacilityAttribute

<<toc4_26_03,施設管理属性の応用スキーマ文書>>　参照。

[[toc4_03_03_04]]
===== 数値地形図のための拡張属性

====== uro:DmGeometricAttribute

<<toc4_25_03,公共測量標準図式の応用スキーマ文書>>　参照。

====== uro:DmElement

<<toc4_25_03,公共測量標準図式の応用スキーマ文書>>　参照。

[[toc4_03_04]]
==== 交通（道路）で使用するコードリストと列挙型

[[toc4_03_04_01]]
===== Transportaion（CityGML）

====== TransportationComplex_class.xml

lutaml_gml_dictionary::iur/codelists/3.1/TransportationComplex_class.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<citygml_20,annex="C.8">>

====== Road_function.xml

lutaml_gml_dictionary::iur/codelists/3.1/Road_function.xml[template="gml_dict_template.liquid",context=dict]


[.source]
<<jp_road_law>>

[.source]
<<jp_building_law>>

====== Road_usage.xml

lutaml_gml_dictionary::iur/codelists/3.1/Road_usage.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<mlit_emergency_roads>>

[.source]
<<mlit_local_disaster>>

====== TrafficArea_function.xml

コードリストTrafficArea_function.xmlは、適用するLODにより使用可能なコードが異なるため、LOD別に示す。

* LOD2及びLOD3.0で使用する場合
+
--
// this table is_common to both doc01 and doc02 slide27
[cols="3a,3a,3a,3a,13a"]
|===
| ファイル名 4+| TrafficArea_function.xml

h| ファイルURL 4+| https://www.geospatial.jp/iur/codelists/3.1/TrafficArea_function.xml
2+^h| 大分類 2+^h| 小分類 .2+^h| 定義
^h| コード ^h| 説明 ^h| コード ^h| 説明
.2+| 1000 .2+| 車道部 2+| | 主として自動車が利用する道路の部分。
| 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。
| 2000 | 歩道部 2+| | 自転車や歩行者のために供される道路の部分。歩道上の植栽を含む。

|===

[.source]
<<nilim_kiban_dps>>
--

* LOD3.1で使用する場合
+
--
// this table is_common to both doc01 and doc02 slide28
[cols="3a,3a,3a,3a,13a"]
|===
| ファイル名 4+| TrafficArea_function.xml

h| ファイルURL 4+| https://www.geospatial.jp/iur/codelists/3.1/TrafficArea_function.xml
2+^h| 大分類 2+^h| 小分類 .2+^h| 定義
^h| コード ^h| 説明 ^h| コード ^h| 説明
.3+| 1000 .3+| 車道部 2+| | 主として自動車が利用する道路の部分のうち、自動車の通行の用に供される部分。
| 1010 | 車線 | 一縦列の自動車を安全かつ円滑に通行させるために設けられる帯状の車道の部分。
| 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。
| 2000 | 歩道部 2+| | 自転車や歩行者のために供される道路の部分。歩道上の植栽を含む。

|===

[.source]
<<nilim_kiban_dps>>
--

* LOD3.2及びLOD3.3で使用する場合
+
--
// this table is_common to both doc01 and doc02 slide29
[cols="3a,3a,3a,3a,13a"]
|===
| ファイル名 4+| TrafficArea_function.xml

h| ファイルURL 4+| https://www.geospatial.jp/iur/codelists/3.1/TrafficArea_function.xml
2+^h| 大分類 2+^h| 小分類 .2+^h| 定義
^h| コード ^h| 説明 ^h| コード ^h| 説明
.3+| 1000 .3+| 車道部 2+| | 主として自動車が利用する道路の部分のうち、自動車の通行の用に供される部分。
| 1010 | 車線 | 一縦列の自動車を安全かつ円滑に通行させるために設けられる帯状の車道の部分。
| 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。
| 2000 | 歩道部 2+| | 自転車や歩行者のために供される道路の部分。植栽を含まない。

|===

[.source]
<<nilim_kiban_dps>>
--

* LOD3.4で使用する場合
+
--
// this table is_common to both doc01 and doc02 slide30
[cols="3a,3a,3a,3a,13a"]
|===
| ファイル名 4+| TrafficArea_function.xml

h| ファイルURL 4+| https://www.geospatial.jp/iur/codelists/3.1/TrafficArea_function.xml
2+^h| 大分類 2+^h| 小分類 .2+^h| 定義
^h| コード ^h| 説明 ^h| コード ^h| 説明
.8+| 1000
.8+| 車道部
2+|
| 主として自動車が利用する道路の部分のうち、自動車の通行の用に供される部分。 +
車線やすりつけ区間等区分されている以外の場所を全て車道部として取得する。

| 1010 | 車線 | 一縦列の自動車を安全かつ円滑に通行させるために設けられる帯状の車道の部分。
| 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。
| 1030 | すりつけ区間 | 車線の数が増加もしくは減少する、又は道路が接続する場合に設けられる車道の部分。
| 1040 | 踏切道 | 鉄道と交差する道路の部分。
| 1050 | 軌道敷 | 路面電車が走行する道路の部分。
| 1070 | 待避所 | 一車線の道路において、車両のすれ違いのために車道の幅員を拡げる部分。
| 1130 | 副道 | 道路の構造により沿道との出入りが妨げられる場合に、沿道への出入りを確保するために本線車道に並行して設置される道路。
.4+| 2000 .4+| 歩道部 2+| | 自転車や歩行者のために供される道路の部分。
| 2010 | 自転車歩行者道 | 自転車及び歩行者の通行の用に供される道路の部分。
| 2020 | 歩道 | 歩行者の通行の用に供される道路の部分。
| 2030 | 自転車道 | 自転車の通行の用に供される道路の部分。
| 6000 | 自転車駐車場 2+| | 自転車駐車場のうち、走路部分。
| 7000 | 自動車駐車場 2+| | 自動車駐車場のうち、走路部分。

|===

[.source]
<<nilim_kiban_dps>>
--

====== AuxiliaryTrafficArea_function.xml

コードリストTrafficArea_function.xml及びAuxiliaryTrafficArea_function.xmlは、適用するLODにより使用可能なコードが異なるため、LOD別に示す。

* LOD2、LOD3.0及びLOD3.1で使用する場合
+
--
[cols="3a,3a,19a"]
|===
| ファイル名 2+| AuxiliaryTrafficArea_function.xml

h| ファイルURL 2+| https://www.geospatial.jp/iur/codelists/3.1/AuxiliaryTrafficArea_function.xml
2+^h| 大分類 .2+^h| 定義
^h| コード ^h| 説明
| 3000 | 島 | 車両の走行を制御し、安全な交通を確保するために設置される分離帯及び交通島。路面電車停車所が設けられた島を含む。

|===

[.source]
<<nilim_kiban_dps>>
--

* LOD3.2及びLOD3.3で使用する場合
+
--
[cols="3a,3a,19a"]
|===
| ファイル名 2+| AuxiliaryTrafficArea_function.xml

h| ファイルURL 2+| https://www.geospatial.jp/iur/codelists/3.1/AuxiliaryTrafficArea_function.xml
2+^h| 大分類 .2+^h| 定義
^h| コード ^h| 説明
| 3000 | 島 | 車両の走行を制御し、安全な交通を確保するために設置される分離帯及び交通島。路面電車停車所が設けられた島を含む。
| 5000 | 植栽 | 植樹帯及び植樹ます。

|===

[.source]
<<nilim_kiban_dps>>
--

* LOD3.4で使用する場合
+
--
[cols="3a,3a,3a,3a,13a"]
|===
| ファイル名 4+| AuxiliaryTrafficArea_function.xml

h| ファイルURL 4+| https://www.geospatial.jp/iur/codelists/3.1/AuxiliaryTrafficArea_function.xml
2+^h| 大分類 2+^h| 小分類 .2+^h| 定義
^h| コード ^h| 説明 ^h| コード ^h| 説明
.7+| 1000
.7+| 車道部
2+|
| 主として自動車が利用する道路の部分のうち、自動車の通行の用に供されない（物理的に通行が可能であっても、道路設計上、車両が通行することが想定されていない）を部分。 +
非常駐車帯や中央帯の区分が不要な場合には、通行が想定されていない範囲を全て車道部として取得する。

| 1060 | 非常駐車帯 | 左側路肩に設けられる、故障車等が本線車線から退避し一時的に駐車するための道路の部分。
| 1080 | 中央帯 | 車線を往復の方向別に区分するための道路の部分。
| 1090 | 側帯 | 運転者の視線を誘導し、側方余裕をもたせるため、路肩及び中央帯にも受けられる道路の部分。
| 1100 | 路肩 | 道路の主要構造を保護し、車道の機能を確保するため、車道部や歩道部に連続して設置される道路の部分。
| 1110 | 停車帯 | 車両が停車するために設けられる道路の部分。
| 1120 | 乗合自動車停車所 | バス乗客の乗降のため、本線車線から分離しても受けられる道路の部分。
.3+| 3000 .3+| 島 2+| | 交通島、分離帯の区分が不要な場合は、島として取得する。
| 3010 | 交通島 | 車両の走行を制御し歩行者を保護するために設置される島状の道路の部分。
| 3020 | 分離帯 | 同方向又は対方向の交通流を分離するために設置される島状の道路の部分。
| 4000 | 路面電車停車所 2+| | 路面電車の乗降、待合のための停留場として利用される島状の部分。
.3+| 5000 .3+| 植栽 2+| | 植樹帯、植樹ますの区分をしない場合には全て植栽として取得する。
| 5010 | 植樹帯 | 植栽のために工作物により区切られる道路の帯状の部分。
| 5020 | 植樹ます | 歩道上に設置される植栽のためのます。
| 6000 | 自転車駐車場 2+| | 自転車駐車場のうち、駐車区画の部分。
| 7000 | 自動車駐車場 2+| | 自動車駐車場のうち、駐車区画の部分。

|===

[.source]
<<nilim_kiban_dps>>
--

====== TrafficArea_surfaceMaterial.xml、AuxiliaryTrafficArea_surfaceMaterial.xml

[cols="6a,19a,6a,19a"]
|===
| ファイル名 3+| TrafficArea_surfaceMaterial.xml、AuxiliaryTrafficArea_surfaceMaterial.xml

h| ファイルURL
3+| https://www.geospatial.jp/iur/codelists/3.1/TrafficArea_surfaceMaterial.xml +
https://www.geospatial.jp/iur/codelists/3.1/AuxiliaryTrafficArea_surfaceMaterial.xml

2+^h| 大分類 2+^h| 小分類
^h| コード ^h| 説明 ^h| コード ^h| 説明
.4+| 1000 .4+| アスファルト舗装 2+| 　
| 1010 | 排水性アスファルト舗装
| 1020 | 透水性アスファルト舗装
| 1030 | 保水性アスファルト舗装
| 2000 3+| コンクリート舗装
| 3000 3+| 樹脂系混合舗装
| 4000 3+| ブロック系舗装
| 5000 3+| 土系舗装
| 6000 3+| 木質系舗装
| 9000 3+| その他

|===

[.source]
<<mlit_road_upkeep>>

[[toc4_03_04_02]]
===== Urban Object（i-UR）

====== RoadStructureAttribute_widthType.xml

lutaml_gml_dictionary::iur/codelists/3.1/RoadStructureAttribute_widthType.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<mlit_foundation_reqs>>

====== RoadStructureAttribute_sectionType.xml

lutaml_gml_dictionary::iur/codelists/3.1/RoadStructureAttribute_sectionType.xml[template="gml_dict_template.liquid",context=dict]

====== DataQualityAttribute_geometrySrcDesc.xml

lutaml_gml_dictionary::iur/codelists/3.1/DataQualityAttribute_geometrySrcDesc.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<gsi_ops>>

[.source]
<<plateau_002>>

[.source]
<<plateau_010>>


====== DataQualityAttribute_thematicSrcDesc.xml

lutaml_gml_dictionary::iur/codelists/3.1/DataQualityAttribute_thematicSrcDesc.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<gsi_ops>>

[.source]
<<plateau_002>>

[.source]
<<plateau_010>>


====== DataQualityAttribute_appearanceSrcDesc.xml

lutaml_gml_dictionary::iur/codelists/3.1/DataQualityAttribute_appearanceSrcDesc.xml[template="gml_dict_template.liquid",context=dict]

====== Road_lodType.xml

lutaml_gml_dictionary::iur/codelists/3.1/Road_lodType.xml[template="gml_dict_template.liquid",context=dict]


====== PublicSurveyDataQualityAttribute_srcScale.xml

lutaml_gml_dictionary::iur/codelists/3.1/PublicSurveyDataQualityAttribute_srcScale.xml[template="gml_dict_template.liquid",context=dict]


====== PublicSurveyDataQualityAttribute_geometrySrcDesc.xml

lutaml_gml_dictionary::iur/codelists/3.1/PublicSurveyDataQualityAttribute_geometrySrcDesc.xml[template="gml_dict_template.liquid",context=dict]

[.source]
<<gsi_ops>>

[.source]
<<plateau_002>>

[.source]
<<plateau_010>>



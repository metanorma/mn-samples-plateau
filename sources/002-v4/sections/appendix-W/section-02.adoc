[[tocW_02]]
=== オープンソースソフトウェアが対象とする品質要求の項目

オープンソースソフトウェアが対象とする品質要求の項目を下表に示す。ただし、この品質評価ツールは、3D都市モデル標準製品仕様書第2.3版に対応しており、この標準作業手順書が発行される時点では、標準製品仕様に対応していないことに留意する必要がある。

[cols="2a,2a,8a,4a,^a,^a,^a,6a"]
|===
| | |  品質評価尺度 |  機能概要 |  検査対象 |  論理検査 |  全数 |  補足

| 過剰 | C01 | インスタンスに与えられたgml:idと同じgml:idをもつ他のインスタンスがデータ製品内に存在しない | カウント、数を出力 |  〇 |  〇 |  〇 |
| 漏れ | C02 | 参照データとインスタンス数が等しい | 都市モデルの数をカウントして表示、ユーザが保持する参照データの数と比較 |  〇 |  〇 |  〇 | 論理検査の結果を、目視で比較
| 書式一貫性 | L01 | 整形式（Well-Formed XML）になっていない箇所数 | XML文法チェック |  〇 |  〇 |  〇 |
.2+| 概念一貫性 | L02 | 妥当（Valid）なXML文書になっていない箇所数 | CityGML/i-URスキーマチェック |  〇 |  〇 |  〇 |
| L03 | 応用スキーマに定義していない地物型の出現箇所数 | CityGML/i-UR未定義のクラスをカウント |  〇 |  〇 |  〇 <| 他スキーマが読み込まれた場合、当該クラスは排除不可
| | L-bldg-06 | 建築物のbldg:lod2Solidにより記述される立体（gml:Solid）の境界面（gml:MultiSurface）と、bldg:boundedByにより参照する屋根面、接地面、壁面、外部天井、外部床面または閉鎖面がbldg:lod2MultiSurfaceにより記述される面（gml:MultiSurface）とが一致する。
| Solidを構成する面が正しいBoundarySurfaceを参照しているかチェック |  〇 |  〇 |  〇 |
.3+| 定義域一貫性 | L04 | codeSpaceにより指定された辞書に定義されていない値となっている箇所数 | カウント、数を出力 |  〇 |  〇 |  〇 |
| L05 | srsNameにより指定された空間参照系のepsgコードが、6697あるいは6668のいずれでもない。
| カウント、数を出力 |  〇 |  〇 |  〇 |
| L06 | 幾何オブジェクトインスタンスの座標値に含まれる、緯度、経度、標高が、この幾何オブジェクトインスタンスを含む都市モデル（core:CityModel）の属性boundedByにより示された空間範囲に含まれる。
| カウント、数を出力 |  〇 |  〇 |  〇 |
.2+| 位相一貫性 | L10 | 座標列の向きが不正なインスタンスをエラーとする。外周は反時計回り、内周は時計回りがただしい。
| カウント、数を出力 |  〇 |  〇 |  〇 <| 対象はSolidのみ
| L11 +
L12
| gml:Polygonの境界を構成するすべての座標値が同一平面上になければならない。同一平面上にない座標値が存在するインスタンスをエラーとする。
| カウント、数を出力
|  〇
|  〇
|  〇
<| 対象はSolidのみ

.2+|
| L13
| gml:Polygonに内周が存在する場合に、以下に示す条件に1つ以上に合致する場合にエラーとする。

. 内周が外周と交差している。
. 内周と外周が接することにより、gml:Polygonが2つ以上に分割されている。
. 内周同士が重なったり、包含関係にあったりする。
| カウント、数を出力
|  〇
|  〇
|  〇
<| 対象はSolidのみ

| L14
| gml:Solidを構成する全ての境界面が、以下の条件を満たしていない場合にエラーとする。

. 境界面が自己交差していない。
. 閉じている。
. すべての境界面の向きが立体の外側を向いている。
. 境界面が立体を分断していてはならない。
. 境界面が交差してはならない。
| カウント、数を出力
|  〇
|  〇
|  〇
<| 対象はSolidのみ

.2+| 分類の正しさ | T03 | id参照により参照されたgml:idを与えられたインスタンスの型が、応用スキーマにおいて示された関連相手先となる型と一致しない箇所の出現回数 | Xlink先が間違った型となっていないか確認、数を出力 |  〇 |  〇 |  〇 |
| T-bldg-02 | bldg:lod2Geometryにより保持または参照する幾何オブジェクトの型が、gml:MultiSurfaceまたはgml:Solid、あるいはgml:CompositeSolidではないインスタンスの個数 | Pointなどが混在していないか確認、数を出力 |  〇 |  〇 |  〇 |
| | - | gen:lod0Geometryにより保持または参照する幾何オブジェクトの型が、gml:MultiSurfaceではないインスタンスの個数 | カウント、数を出力 |  〇 |  〇 |  〇 |

|===

